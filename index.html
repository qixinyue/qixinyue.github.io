<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="本站主要提供python教学的系列知识汇总">
<meta property="og:type" content="website">
<meta property="og:title" content="响神的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="响神的博客">
<meta property="og:description" content="本站主要提供python教学的系列知识汇总">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="响神的博客">
<meta name="twitter:description" content="本站主要提供python教学的系列知识汇总">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: 'undefined',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>响神的博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">响神的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">python入门到精通</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/07/mysql/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Godshion">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="响神的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/07/mysql/" itemprop="url">mysql</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-07T20:43:07+08:00">
                2018-08-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  8,524 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  36 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<h1 id="MySQL-第一部分"><a href="#MySQL-第一部分" class="headerlink" title="MySQL-第一部分"></a>MySQL-第一部分</h1></blockquote>
<h2 id="MySQL概述"><a href="#MySQL概述" class="headerlink" title="MySQL概述"></a>MySQL概述</h2><ul>
<li><h2 id="什么是数据库"><a href="#什么是数据库" class="headerlink" title="什么是数据库"></a>什么是数据库</h2><p>数据库是存储数据的仓库</p>
</li>
<li><h2 id="哪些公司在用数据库"><a href="#哪些公司在用数据库" class="headerlink" title="哪些公司在用数据库"></a>哪些公司在用数据库</h2><p>金融机构、游戏网站、购物网站、论坛网站 … …</p>
</li>
<li><h2 id="提供数据库服务的软件"><a href="#提供数据库服务的软件" class="headerlink" title="提供数据库服务的软件"></a>提供数据库服务的软件</h2></li>
</ul>
<ul>
<li><p>软件分类<br>MySQL、SQL_Server、Oracle、DB2、MongoDB、Mariadb … …</p>
</li>
<li><p>在生产环境中,如何选择使用哪个数据库软件<br>1、 是否开源<br>  开源软件：MySQL、MongoDB、Mariadb<br>  商业软件：Oracle、DB2、SQL_Server<br>2、 是否跨平台<br>  不跨平台：SQL_Server<br>  跨平台：MySQL、MongoDB、Oracle、DB2、Mariadb<br>3、 公司的类型<br>  商业软件：政府部门、金融机构<br>  开源软件：游戏网站、购物网站、论坛网站 …</p>
</li>
</ul>
<ul>
<li><h2 id="MySQL特点"><a href="#MySQL特点" class="headerlink" title="MySQL特点"></a>MySQL特点</h2></li>
</ul>
<h3 id="1-关系型数据库"><a href="#1-关系型数据库" class="headerlink" title="1 关系型数据库"></a>1 关系型数据库</h3><h4 id="关系型数据库特点"><a href="#关系型数据库特点" class="headerlink" title="关系型数据库特点"></a>关系型数据库特点</h4><p>1、数据是以行和列的形式去存储的<br>2、表中的每一行叫一条记录<br>3、表中的每一列叫一个字段<br>4、表和表之间的逻辑关联叫关系</p>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><p>1、关系型数据库存储<br>表1、学生信息表</p>
<table>
<thead>
<tr>
<th>姓名</th>
<th>年龄</th>
<th>班级</th>
</tr>
</thead>
<tbody>
<tr>
<td>星矢</td>
<td>25</td>
<td>三班</td>
</tr>
<tr>
<td>水冰月</td>
<td>26</td>
<td>六班</td>
</tr>
</tbody>
</table>
<p>表2、班级信息表</p>
<table>
<thead>
<tr>
<th>班级</th>
<th>班主任</th>
</tr>
</thead>
<tbody>
<tr>
<td>三班</td>
<td>大空翼</td>
</tr>
<tr>
<td>六班</td>
<td>松人</td>
</tr>
</tbody>
</table>
<p>2、非关系型数据库存储<br>{“姓名”:”星矢”,”年龄”:25,”班级”:”三班”}<br>{“姓名”:”水冰月”,”年龄”:26,”班级”:”六班”,”班主任”:”松人”}</p>
<h3 id="2-跨平台"><a href="#2-跨平台" class="headerlink" title="2 跨平台"></a>2 跨平台</h3><p>可以在Unix、Linux、Windows上运行数据库服务</p>
<h3 id="3-支持多种编程语言"><a href="#3-支持多种编程语言" class="headerlink" title="3 支持多种编程语言"></a>3 支持多种编程语言</h3><p>  python、java、php …</p>
<ul>
<li><h2 id="数据库软件、数据库、数据仓库"><a href="#数据库软件、数据库、数据仓库" class="headerlink" title="数据库软件、数据库、数据仓库"></a>数据库软件、数据库、数据仓库</h2>1、 数据库软件<br>是一种软件,可以看得见,可操作,用来实现数据库逻辑功能<br>2、 数据库<br>是一种逻辑概念,用来存储数据的仓库,侧重存储<br>3、 数据仓库<br>从数据量来说,数据仓库要比数据库庞大的多,主要用于数据挖掘和数据分析</li>
</ul>
<p>数据库：user表 验证<br>数据仓库：哪个时间段用户登录量最多,哪个用户一年购物最多,……</p>
<h2 id="MySQL安装"><a href="#MySQL安装" class="headerlink" title="MySQL安装"></a>MySQL安装</h2><h3 id="Ubuntu安装MySQL"><a href="#Ubuntu安装MySQL" class="headerlink" title="Ubuntu安装MySQL"></a>Ubuntu安装MySQL</h3><p>1、安装服务端<br>    <code>sudo apt-get install mysql-server</code><br>2、安装客户端<br>    <code>sudo apt-get install mysql-client</code><br>3、Ubuntu安装软件<br>    <code>1、sudo apt-get update
    2、sudo apt-get -f install</code><br>        修复依赖关系</p>
<h3 id="Windows安装MySQL服务"><a href="#Windows安装MySQL服务" class="headerlink" title="Windows安装MySQL服务"></a>Windows安装MySQL服务</h3><p>1、下载MySQL安装包<br>    <code>mysql-installer***5.7.***.msi</code><br>2、双击、按照教程安装即可</p>
<h2 id="启动和连接"><a href="#启动和连接" class="headerlink" title="启动和连接"></a>启动和连接</h2><p>1、服务端启动</p>
<pre><code>* sudo /etc/init.d/mysql start
* sudo /etc/init.d/mysql status | stop | restart
</code></pre><p>2、客户端连接</p>
<ul>
<li>命令格式<br>  mysql -h主机地址 -u用户名 -p密码<br>  mysql -hlocalhost -uroot -p123456</li>
<li>本地登录可省略-h选项<br>  mysql -uroot -p123456</li>
</ul>
<h2 id="基本SQL命令"><a href="#基本SQL命令" class="headerlink" title="基本SQL命令"></a>基本SQL命令</h2><h3 id="1-SQL命令的使用规则"><a href="#1-SQL命令的使用规则" class="headerlink" title="1  SQL命令的使用规则"></a>1  SQL命令的使用规则</h3><ul>
<li>每条命令必须以 ; 结尾</li>
<li>SQL命令不区分字母大小写</li>
<li>使用 \c 终止当前命令的执行</li>
</ul>
<h3 id="2-库的管理"><a href="#2-库的管理" class="headerlink" title="2  库的管理"></a>2  库的管理</h3><ul>
<li>库的基本操作<br>  1、查看已有的库<pre><code>show databases;
</code></pre>  2、创建库(指定字符集)<pre><code>create database 库名 [character set utf8];
</code></pre>  3、查看创建库的语句<pre><code>show create database 库名;
</code></pre>  4、查看当前所在库<pre><code>select database();
</code></pre>  5、切换库<pre><code>use 库名;
</code></pre>  6、查看库中已有表<pre><code>show tables;
</code></pre>  7、删除库<pre><code>drop database 库名;
</code></pre></li>
<li><p>练习<br>  1、创建库testdb,指定字符集为utf8</p>
<pre><code>create database testdb character set utf8;
</code></pre><p>  2、进入到库testdb</p>
<pre><code>use testdb;
</code></pre><p>  3、查看当前所在库</p>
<pre><code>select database();
</code></pre><p>  4、创建库testdb2,指定字符集为latin1</p>
<pre><code>create database testdb2 character set latin1;
</code></pre><p>  5、进入到库testdb2</p>
<pre><code>use testdb2;
</code></pre><p>  6、查看testdb2的默认字符集</p>
<pre><code>show create database testdb2;
</code></pre><p>  7、删除库testdb</p>
<pre><code>drop database testdb;
</code></pre><p>  8、删除库testdb2</p>
<pre><code>drop database testdb2;
</code></pre></li>
<li><p>库名的命名规则<br>  1、可以使用数字、字母、_,但是不能为纯数字<br>  2、库名区分字母大小写<br>  3、库名具有唯一性<br>  4、不能使用特殊字符和mysql关键字</p>
</li>
</ul>
<h3 id="3-表的管理"><a href="#3-表的管理" class="headerlink" title="3  表的管理"></a>3  表的管理</h3><ul>
<li><p>表的基本操作<br>  1、创建表</p>
<pre><code>create table 表名(
字段名1        数据类型,
字段名2        数据类型,
字段名3        数据类型
);
</code></pre><p>  2、查看创建表的语句(字符集、存储引擎)</p>
<pre><code>show create table 表名;
</code></pre><p>  3、查看表结构</p>
<pre><code>desc 表名;
</code></pre><p>  4、删除表</p>
<pre><code>drop table 表名;
</code></pre></li>
<li><p>练习<br>  1、创建库python1<br>  2、在 python1 库中创建表 pymysql并指定字符集为utf8,字段有三个：id  name  age 数据类型自己定义<br>  3、查看表pymysql的默认字符集和存储引擎<br>  4、查看表 pymysql 的表结构<br>  5、删除表 pymysql<br>  6、删除库 python1<br>  7、创建库 python2<br>  8、在库python2中创建表 t1 指定字符集utf8,字段有 id name score三个,数据类型自己定义<br>  9、查看t1的表结构</p>
</li>
<li><p>注意<br>  1、所有的数据都是以文件的形式存放在数据库目录下<br>  2、数据库目录：/var/lib/mysql</p>
</li>
</ul>
<h3 id="4-表记录的管理"><a href="#4-表记录的管理" class="headerlink" title="4 表记录的管理"></a>4 表记录的管理</h3><ul>
<li><p>在表中插入记录<br>  1、insert into 表名 values(值1),(值2),…;<br>  2、insert into 表名(字段名1,字段名2,…) values(值1),(值2),…;</p>
</li>
<li><p>查询表记录<br>  1、select * from 表名 [where 条件];<br>  2、select 字段名1,字段名2,… from 表名 [where 条件];</p>
</li>
<li><p>练习<br>  1、查看所有库<br>  2、创建一个新库 studb<br>  3、在 studb 中创建一张表 tab1,指定字符集utf8,表中字段有 id  name  age  score 四个<br>  4、查看tab1的表结构</p>
<pre><code>desc tab1;
</code></pre><p>  5、在 tab1 中随意插入2条记录</p>
<pre><code>insert into tab1 values
(1,&quot;Tom&quot;,22,100),(2,&quot;Lucy&quot;,23,80);
</code></pre><p>  6、在 tab1 的name,age两个字段插入2条记录</p>
<pre><code>insert into tab1(name,age) values
(&quot;Bob&quot;,30),(&quot;Green&quot;,33);
</code></pre><p>  7、查看 tab1 中的所有记录</p>
<pre><code>select * from tab1;
</code></pre><p>  8、查看 tab1 中所有人的名字和成绩</p>
<pre><code>select name,score from tab1;
</code></pre></li>
</ul>
<h3 id="5-如何更改库的默认字符集"><a href="#5-如何更改库的默认字符集" class="headerlink" title="5 如何更改库的默认字符集"></a>5 如何更改库的默认字符集</h3><ul>
<li><p>方法<br>通过更改MySQL的配置文件实现</p>
</li>
<li><p>步骤<br>  1、获取root权限</p>
<pre><code>sudo -i
</code></pre><p>  2、备份mysql的配置文件</p>
<pre><code>cd /etc/mysql/mysql.conf.d/
cp mysqld.cnf mysqld.cnf.bak
</code></pre><p>  3、修改配置文件</p>
<pre><code>subl mysqld.cnf
在[mysqld]下面添加：
character_set_server = utf8
</code></pre><p>  4、重启MySQL服务/重新加载配置文件(force-reload)<br>  /etc/init.d/mysql restart | force-reload<br>  5、创建库验证默认字符集是否为utf8</p>
</li>
</ul>
<h3 id="6-客户端把数据存储到数据库服务器上的过程"><a href="#6-客户端把数据存储到数据库服务器上的过程" class="headerlink" title="6 客户端把数据存储到数据库服务器上的过程"></a>6 客户端把数据存储到数据库服务器上的过程</h3><pre><code>1、连接到数据库服务器 mysql -h ... -u ... -p ...
2、选择库  use 库名
3、创建表/修改表 
4、断开与数据库服务器的连接 exit | quit | \q
</code></pre><h3 id="7-数据类型"><a href="#7-数据类型" class="headerlink" title="7 数据类型"></a>7 数据类型</h3><ul>
<li>数值类型()</li>
</ul>
<ul>
<li><p>1、整型<br>1、int 大整型(4个字节)</p>
<pre><code>取值范围：0 ~ 2**32 -1(42亿多)
</code></pre><p>2、tinyint 微小整型(1个字节)</p>
<pre><code>1、有符号(signed默认) :-128 ~ 127
2、无符号(unsigned) : 0 ~ 255
</code></pre><p>3、smallint 小整型(2个字节)<br>4、bigint 极大整型(8个字节) 0 ~ 2**64 -1</p>
</li>
<li><p>2、浮点型<br>1、float(4个字节,最多显示7个有效位)</p>
<pre><code>1、用法
    字段名 float(m,n)  m:总位数 n:小数位位数
    float(5,2) 取值范围？ -999.99 ~ 999.99
2、注意
    1、浮点型插入整数时会自动补全小数位
    2、小数位如果多于指定的位数,会对下一位四舍五入
</code></pre><p>2、double(8个字节,最多显示15个有效位)<br>3、decimal(最多显示28个有效位)</p>
<pre><code>1、字段名 decimal(m,n)
2、存储空间(整数部分和小数部分分开存储)
    规则：将9位数字的倍数包装成4个字节
    即：对于每个部分,需要4个字节来存储9位数的每个倍数,剩余数字所需的存储空间如下表：

    剩余数字    字节
       0        0
        1-2       1
        3-4       2
        5-6       3
        7-9       4
    示例：decimal(19,9) ---&gt;9字节
        整数部分：10/9=商1余1 4字节+1字节=5字节
        小数部分：9/9=商1余0  4字节+0字节=4字节
</code></pre></li>
</ul>
<ul>
<li>字符类型</li>
</ul>
<ul>
<li>1、char(定长)<br>  1、宽度取值范围：1~255<br>  2、不给定宽度默认为1</li>
</ul>
<ul>
<li>2、varchar(变长)<br>  1、取值范围：1~65535</li>
</ul>
<ul>
<li>3、char 和 varchar 的特点<br>  1、char：浪费存储空间,但是性能高<br>  2、varchar：节省存储空间,但是性能低</li>
</ul>
<ul>
<li>4、text / longtext(4G) / blob / longblob(4G)</li>
</ul>
<ul>
<li>5、字符类型的宽度和数值类型的宽度的区别<br>  1、数值类型的宽度为显示宽度,仅仅用于select查询时显示,和占用的存储空间大小无关,可用zerofill查看效果<br>  2、字符类型的宽度超过则无法存储</li>
</ul>
<ul>
<li>6、练习<br>  1、创建一个库studb2,在studb2库中创建表tab,字段如下：<pre><code>学号：id 要求显示宽度为2,位数不够用0填充
姓名：name 变长,宽度20
年龄：age 微小整型,不能输入负数
身高：height 浮点型,小数位为2位
工资：salary 浮点型,最大为 9999 9999 . 99
 create table tab(
-&gt; id int(2) zerofill,
-&gt; name varchar(20),
-&gt; age tinyint unsigned,
-&gt; height float(5,2),
-&gt; salary decimal(10,2)
-&gt; );
</code></pre>  2、查看 tab 的表结构<br>  3、在表中插入 1 条记录<br>  4、查询所有学生的 id 、name 、height 和 salary    </li>
</ul>
<ul>
<li><p>枚举类型(字段值只能在列举的范围内选择)<br>  1、单选(最多65535个不同值)</p>
<pre><code>字段名 enum(值1,值2,...,值N)
</code></pre><p>  2、多选(最多64个不同值)</p>
<pre><code>字段名 set(值1,值2,...,值N)
插入记录时 &quot;girl,python,mysql&quot;
</code></pre></li>
<li><p>日期时间类型<br>  1、year : 年 YYYY<br>  2、date : 日期 YYYYMMDD<br>  3、time : 时间 HHMMSS<br>  4、datetime</p>
<pre><code>timestamp : 日期时间 YYYYMMDDHHMMSS
</code></pre><p>  5、示例</p>
<pre><code> mysql&gt; create table t11(
-&gt; id int,
-&gt; name char(15),
-&gt; birth_year year,
-&gt; birthday date,
-&gt; class time,
-&gt; meeting datetime
-&gt; )character set utf8;
</code></pre></li>
</ul>
<p>作业：面试题<br>  1、MySQL中的数据类型有：<strong><strong> </strong></strong> <strong><strong> </strong></strong><br>  2、关系型数据库的核心内容是 _关系_ 即 <em>二维表</em><br>  3、简述客户端把数据存储到数据库服务器上的过程<br>  4、char和varchar的区别,各自的特点<br>  5、创建一个学校的库 school<br>  6、在库中创建一个表 students 存储学生信息,字段如下<br>    学号(显示宽度为3,不够用0填充)、姓名、年龄(不能为负数)、手机号、成绩(浮点型)、性别(单选)、爱好(多选)、入学时间(年月日)<br>  7、查看students的表结构<br>  8、在表中随意插入1条记录<br>  9、在表中的 姓名、手机号、成绩 三个字段插入3条记录<br>  10、查看所有学生的姓名、手机号和成绩</p>
<blockquote>
<h1 id="MySQL-第二部分"><a href="#MySQL-第二部分" class="headerlink" title="MySQL-第二部分"></a>MySQL-第二部分</h1></blockquote>
<h2 id="日期时间函数"><a href="#日期时间函数" class="headerlink" title="日期时间函数"></a>日期时间函数</h2><ul>
<li><p>1、 NOW() 返回服务器当前时间 YYYY-MM-DD HH:MM:SS</p>
</li>
<li><p>2、CURDATE() 返回当前日期 YYYY-MM-DD</p>
</li>
<li><p>3、CURTIME() 返回当前时间 HH:MM:SS</p>
</li>
<li><p>4、year(时间) 返回指定时间的年份</p>
</li>
<li><p>5、date(时间) 返回指定时间的日期</p>
</li>
<li><p>6、time(时间) 返回指定时间的时间<br>  insert into t11 values(2,”Tom”,year(now()),date(now()),time(now()),now())</p>
</li>
<li><p>7、日期时间运算<br>  1、语法格式</p>
<pre><code>select ... from 表名 where 
字段名 运算符 (时间 interval 时间间隔单位);
interval ：间隔类型关键字
时间间隔单位 ：
    1 day
    2 hour | minute | year | month
</code></pre><p>  2、示例</p>
<pre><code>1、查询1天以内的记录
    select * from t11 where 
    meeting &gt; (now() - interval 1 day);
                    现在时间 - 1天时间 = 1天以前的时间点
    解释：
    where id &gt; 5 

    where meeting &gt; 时间点
             2018-05-31 00:00:00 &gt; 2018-05-31 08:00:00

2、查询1天以前3天以内的记录
    select * from t11 where 
    meeting &lt; (now()-interval 1 day) and
    meeting &gt; (now()-interval 3 day);
</code></pre></li>
</ul>
<h2 id="表字段的操作"><a href="#表字段的操作" class="headerlink" title="表字段的操作"></a>表字段的操作</h2><pre><code>1、语法：alter table 表名 执行动作;
2、添加字段(add)
    alter table 表名 add 字段名 数据类型;
    alter table 表名 add 字段名 数据类型 first;
    alter table 表名 add 字段名 数据类型 after 字段名;
3、删除字段(drop)
    alter table 表名 drop 字段名;
4、修改字段数据类型(modify)
    alter table 表名 modify 字段名 新数据类型;
    # 修改数据类型会受到表中原有数据的限制
</code></pre><h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><pre><code>1、创建库 studb2
2、在库中创建表 stuinfo,字段如下：
    姓名、年龄、手机号 char(11)
3、查看表结构
4、在表中第一列添加一个字段：学号
    alter table stuinfo add id int first;
5、把手机号的数据类型改为 bigint 8个字节
    alter table stuinfo modify phnumber bigint;
6、在表中最后一列添加一个字段：注册时间 register,数据类型为：timestamp
    alter table stuinfo add register timestamp;
7、在表中 学号、姓名、年龄、手机号 四个字段插入2条记录
    insert into stuinfo(id,name,age,phnumber) values
    (1,&quot;Tom&quot;,20,13838384386),(2,&quot;Jim&quot;,25,13999999999);
8、查询5分钟内的记录明细
    select * from stuinfo where
    register &gt; (now() - interval 5 minute);
</code></pre><h2 id="表记录的管理-删除、更改"><a href="#表记录的管理-删除、更改" class="headerlink" title="表记录的管理(删除、更改)"></a>表记录的管理(删除、更改)</h2><pre><code>1、删除表记录
    1、delete from 表名 where 条件;
    2、注意
        delete语句后如果不加where条件,会将表中所有记录全部删除
2、更改表记录
    1、update 表名 set 字段1=值1,字段2=值2 where 条件;
    2、注意
        update语句后如果不加where条件,会将表中所有记录全部更新
3、练习
    1、查找所有蜀国英雄的记录
        select * from hero where country=&quot;蜀国&quot;;
    2、查找一下女英雄的姓名和性别
        select name,sex from hero where sex=&quot;女&quot;;
    3、把id为2的记录姓名改为 司马懿,性别改为 男,国家改为 魏国
        update hero set name=&quot;司马懿&quot;,sex=&quot;男&quot;,country=&quot;魏国&quot; where id=2;
    4、删除所有的魏国人
        delete from hero where country=&quot;魏国&quot;;
    5、把魏延的编号(id)改为 66
    update hero set id=66 where name=&quot;魏延&quot;;
    6、删除hero表中的所有英雄
        delete from hero;
</code></pre><h2 id="运算符操作"><a href="#运算符操作" class="headerlink" title="运算符操作"></a>运算符操作</h2><pre><code>1、数值比较&amp;字符比较
    1、数值比较运算符：=、!=、&gt;、&gt;=、&lt;、&lt;=
    2、字符比较运算符：=、!=
    3、示例
        1、查找sanguo表中攻击力大于200的英雄的姓名和攻击力
            select name,gongji from sanguo where gongji&gt;200;
2、逻辑比较
    1、and (两个或多个条件同时满足)
    2、or (两个或多个条件有一个条件满足就可以)
    3、示例
        1、找出攻击值大于200的蜀国英雄的名字和攻击值
            select name,gongji from sanguo where gongji&gt;200 and country=&quot;蜀国&quot;;
        2、将吴国英雄中攻击值为110的英雄的攻击值设置为100,防御值设置为60
            update sanguo set gongji=100,fangyu=60 where country=&quot;吴国&quot; and gongji=110;
        3、查找蜀国和魏国的英雄
            select * from sanguo where country=&quot;蜀国&quot; or country=&quot;魏国&quot;;
3、范围内比较
    1、运算符
        where 字段名 between 值1 and 值2  # 值为数字
        where 字段名 in(值1,值2,...)
        where 字段名 not in(值1,值2,...)
    2、示例
        1、查找攻击值在100-200之间的蜀国英雄信息
            select * from sanguo where gongji between 100 and 200 and country=&quot;蜀国&quot;;
        2、查找编号为1、3或5的蜀国英雄 和 貂蝉的 编号、姓名和国家
            select id,name,country from sanguo where id in(1,3,5) and country=&quot;蜀国&quot; or name=&quot;貂蝉&quot;;
        3、查找蜀国和吴国以外的国家的女英雄信息
            select * from sanguo where country not in(&quot;蜀国&quot;,&quot;吴国&quot;) and sex=&quot;女&quot;;
4、匹配空、非空
    1、空 ：is null
    2、非空：is not null
    3、示例
        1、查找姓名为NULL的蜀国女英雄信息
            select * from sanguo  where name is null and country=&quot;蜀国&quot; and sex=&quot;女&quot;;
        2、查找姓名为&quot;&quot;的英雄的 id 姓名 和 国家
            select id,name,country from sanguo where name=&quot;&quot;;
    4、注意
        1、null ：空值,必须用is 或者 is not 去匹配
        2、&quot;&quot;        ：空字符串,只能用 = 或者 != 去匹配
5、模糊比较
    1、语法格式 
        where 字段名 like 表达式
    2、表达式
        1、_ ：匹配单个字符
        2、% ：匹配0到多个字符
    3、示例
        # 匹配名字中至少有2个字符的记录
        select name from sanguo where name like &quot;_%_&quot;;
        # 匹配所有记录(NULL除外)
        select name from sanguo where name like &quot;%&quot;;
        # 匹配名字中有三个字符的记录
        select name from sanguo where name like &quot;___&quot;;
        # 匹配姓 赵 的英雄记录
        select name from sanguo where name like &quot;赵%&quot;;
</code></pre><h2 id="SQL查询"><a href="#SQL查询" class="headerlink" title="SQL查询"></a>SQL查询</h2><pre><code>1、总结(执行顺序)
    3、select ...聚合函数 from 表名
    1、where ...
    2、group by ...
    4、having ...
    5、order by ...
    6、limit ...
2、order by(给查询结果进行排序)
    1、order by 字段名 排序方式
    2、排序方式
        1、ASC(默认) ：升序
        2、DESC ：降序
    3、示例
        1、将英雄按防御值从低到高排序
            select * from sanguo order by fangyu ASC;
        2、将蜀国英雄按攻击值从高到低排序
            select * from sanguo  where country=&quot;蜀国&quot; order by gongji desc;
        3、将魏蜀两国男英雄中名字为三个字的英雄按防御值升序排列
            select * from sanguo  where country in(&quot;魏国&quot;,&quot;蜀国&quot;) and sex=&quot;男&quot; and   name like &quot;___&quot; order by fangyu ASC;
3、limit(永远放在SQL语句的最后写)
    1、作用 ：限制显示查询记录的个数
    2、用法
        1、limit n  --&gt;显示 n 条记录
        2、limit m,n --&gt;从 m+1 条记录开始,显示 n 条记录
             limit 2,3 --&gt;显示3、4、5三条记录
            ## m的值是从0开始计数,2则表示第3条记录
    3、示例
        1、在蜀国英雄中,查找防御值倒数第二名到倒数第四名的英雄记录
            select * from sanguo  where country=&quot;蜀国&quot;  order by fangyu ASC limit 1,3;
        2、在蜀国且名字不为空值的英雄中,查找攻击值前三名的英雄的姓名、攻击值和国家
            select name,gongji,country from sanguo where country=&quot;蜀国&quot; and name is not null  order by gongji desc  limit 3;
4、聚合函数
    1、分类
        1、avg(字段名) : 求该字段的平均值
        2、sum(字段名)
        3、max(字段名)
        4、min(字段名)
        5、count(字段名) : 统计该字段记录的个数
    2、示例
        1、攻击力最强值
            select max(gongji) from sanguo;
        2、统计表中 id 和 name 字段分别有多少条记录
            select count(id),count(name) from sanguo;
            ## 控制NULL不会被统计,空字符串&quot;&quot;会被统计
        3、统计蜀国英雄中攻击值 &gt;200 的英雄个数
            select count(*) from sanguo where country=&quot;蜀国&quot;;
5、group by(分组)
    1、作用 ：给查询结果进行分组
    2、用法 ：group by 字段名
    3、示例
        1、计算一下每个国家的平均攻击力
            select country,avg(gongji) from sanguo
            group by country;
            1、分组    2、聚合                3、去重
                蜀国
                蜀国      蜀国平均值             蜀国
                蜀国
                魏国      魏国平均值             魏国
                魏国
                吴国            吴国平均值             吴国
        2、查找所有国家中 英雄数量最多的前2名国家的 国家名称和英雄数量
            select country,count(*) as number from sanguo
            group by country
            order by number desc
            limit 2;
    4、注意
        1、group by后的字段名必须要为select之后的字段名,如果查询字段和group by之后的字段不一致,则必须要对该字段进行聚合处理(聚合函数)
6、having
    1、作用 ：对查询的结果进行进一步的筛选
    2、示例
        1、找出平均攻击力 &gt;105 的国家的前2名,显示国家名和平均攻击力
            select country,avg(gongji) from sanguo
            group by country
            having avg(gongji) &gt; 105
            order by avg(gongji) desc
            limit 2;
    3、注意
        1、having语句通常与group by语句联合使用,用来过滤由group by语句返回的结果集
        2、where只能操作表中实际存在的字段(desc 表名;),having操作的是由聚合函数生成的显示列
7、distinct(不显示字段的重复值)
    1、用法
        select distinct 字段名1,字段名2... from 表名;
    2、示例
        1、统计sanguo表中一共有多少个国家
            select distinct country from sanguo;
        2、计算蜀国一共有多少个英雄
            select count(distinct id) as number from sanguo;
    3、注意
        1、distinct处理的是distinct 和 from 之间的所有字段,所有字段的值必须全部相同才能去重
8、查询表记录时做数学运算    
    1、运算符
        + - * / %
    2、示例
        1、查询时显示所有英雄攻击力翻倍
            select id,name,gongji*2 as new_gj,country from sanguo;
</code></pre><h2 id="约束"><a href="#约束" class="headerlink" title="约束"></a>约束</h2><pre><code>1、作用
    为了限制无效的数据插入到数据表中
2、约束分类
    1、默认约束(default)
        1、作用 ：插入记录时,不给该字段赋值,使用默认值
        2、格式 ：字段名 数据类型 default 值
    2、非空约束(not null)
        1、作用 ：不允许该字段的值有NULL记录
        2、格式 ：字段名 数据类型 not null

        ##可连用：字段名 数据类型 not null default 值
</code></pre><blockquote>
<h1 id="MySQL-第三部分"><a href="#MySQL-第三部分" class="headerlink" title="MySQL-第三部分"></a>MySQL-第三部分</h1></blockquote>
<h2 id="索引-index"><a href="#索引-index" class="headerlink" title="索引(index)"></a>索引(index)</h2><ul>
<li>定义<br>  对数据库中表的一列或者多列的值进行排序的一种结构(MySQL中索引用BTREE方式)</li>
<li>优点<br>  可以加快数据的检索速度</li>
<li>缺点<br>  1、当对表中的数据进行增加、删除和修改的时候,索引需要动态维护,降低了数据的维护速度<br>  2、索引需要占用物理空间</li>
<li>索引示例<br>  1、开启运行时间检测<pre><code>show variables like &quot;%pro%&quot;;
set profiling=1;
</code></pre>  2、执行查询语句<pre><code>select name from t1 where name=&quot;lucy1009999&quot;;
</code></pre>  3、查看执行时间<pre><code>show profiles;
</code></pre>  4、在name字段创建索引<pre><code>create index index_name on t1(name);
</code></pre>  5、执行查询语句<pre><code>select name from t1 where name=&quot;lucy1009998&quot;;
</code></pre>  6、查看执行时间<pre><code>show profiles;
</code></pre></li>
</ul>
<h3 id="索引类型"><a href="#索引类型" class="headerlink" title="索引类型"></a>索引类型</h3><ul>
<li>1、普通索引(index)<br>  1、使用规则<pre><code>1、一张表中可以有多个index字段
2、字段的值可以重复,且可以为NULL
3、经常把做查询条件的字段设置为index字段
4、index字段的key标志为 MUL
</code></pre>  2、创建index<pre><code>1、创建表
    ... index(字段名),index(字段名));
2、已有表
    create index 索引名 on 表名(字段名);
</code></pre>  3、查看索引<pre><code>1、desc 表名;
2、show index from 表名;
</code></pre>  4、删除index<pre><code>drop index 索引名 on 表名;
    ## 删除index只能一个一个删
</code></pre></li>
</ul>
<ul>
<li>2、唯一索引(unique)<br>  1、使用规则<pre><code>1、一个表中可以有多个unique字段
2、对应字段的值不允许重复,但可以为NULL
3、key标志：UNI
</code></pre>  2、创建<pre><code>1、创建表
    ... unique(字段名),unique(字段名));
    ... unique(phnumber),unique(cardnumber));
2、已有表
    create unique index 索引名 on 表名(字段名);
3、查看/删除(同index)
    drop index 索引名 on 表名;
</code></pre></li>
</ul>
<ul>
<li>3、主键索引(primary key)<br>   &amp;&amp;<br>  自增长属性(auto_increment)配合主键一起使用<br>  1、使用规则<pre><code>1、一个表中只能有一个主键字段
2、对应字段值不允许重复,且不能为NULL
3、key标志：PRI
4、把表中能够唯一标识一条记录的字段设置为主键,通常把记录编号的字段设置为主键
</code></pre>  2、创建<pre><code>1、创建表
    ... id int primary key auto_increment,
    ... ...)[auto_increment=10000];
    ... id int auto_increment,
    ... primary key(id))[auto_increment=1000];
2、在已有表中创建
    alter table 表名 add primary key(字段名);
3、删除主键
    1、删除auto_increment属性
        alter table 表名 modify id int;
    2、删除主键
        alter table 表名 drop primary key;
4、在已有表中添加自增长属性并指定起始值
    1、添加自增长属性
        alter table 表名 modify id int auto_increment;
    2、指定起始值
        alter table 表名 auto_increment=值;
</code></pre></li>
</ul>
<ul>
<li><p>4、外键索引(foreign key)<br>  1、定义</p>
<pre><code>让当前表的字段值在另一个表的范围内选择
</code></pre><p>  2、语法格式</p>
<pre><code>foreign key(参考字段名)
references 被参考表名(被参考字段名)
on delete 级联动作
on update 级联动作
</code></pre><p>  3、示例</p>
<pre><code>表1：缴费信息表(财务)
    学号    姓名        班级    金额
    1        唐伯虎    二班    200
    2        点秋香    二班    300
    3        祝枝山    二班    500

表2：班级信息表(班主任)
    学号    姓名        金额
    1        唐伯虎    200
    2        点秋香    300
表1：
    create table jftab(
    id int primary key,
    name varchar(20),
    class varchar(7),
    money int)character set utf8;
    insert into jftab values
    (1,&quot;唐伯虎&quot;,&quot;AID04&quot;,200),
    (2,&quot;点秋香&quot;,&quot;AID04&quot;,300),
    (3,&quot;祝枝山&quot;,&quot;AID04&quot;,500);
表2：
    create table bjtab(
    stu_id int,
    name varchar(20),
    money int,
    foreign key(stu_id) references jftab(id) on delete cascade on update cascade
    )character set utf8;
    insert into bjtab values
    (1,&quot;唐伯虎&quot;,200),
    (2,&quot;点秋香&quot;,300);
</code></pre><p>  4、级联动作</p>
<pre><code>1、cascade ：数据级联更新
    当主表删除记录或更改被参考字段值时,从表级联更新
2、restrict(默认)
    当主表删除记录或更改被参考字段值时,从表中有相关联记录则不允许主表操作
3、set null
    当主表删除记录或更改被参考字段值时,从表中相关联记录的字段值设置为 NULL
4、no action
    同 restrict,都是立即检查外键限制
</code></pre><p>  5、删除外键限制</p>
<pre><code>alter table 表名 drop foreign key 外键名;
外键名查看方式：show create table 表名;
</code></pre><p>  6、在已有表中添加外键限制</p>
<pre><code>alter table 表名 add
foreign key(..) references 表名(字段名) 
on delete 级联动作
on update 级联动作
</code></pre><p>  7、使用规则</p>
<pre><code>1、两张表参考字段和被参考字段数据类型要一致
2、被参考字段必须为key的一种,通常primary key
</code></pre></li>
</ul>
<h2 id="数据导入"><a href="#数据导入" class="headerlink" title="数据导入"></a>数据导入</h2><ul>
<li>作用 ：把文件系统的内容导入到数据库中</li>
<li>语法格式<br>  load data infile “文件名”<br>  into table 表名<br>  fields terminated by “分隔符”<br>  lines terminated by “\n”</li>
<li>示例<br>  1、把 /ect/passwd 文件中的内容导入到 db3下的userinfo表<pre><code>tarena  :  x  :  1000  :  1000  :
用户名        密码        uid            gid
tarena,,,  :  /home/tarena  :  /bin/bash
用户描述            主目录           登录权限
</code></pre></li>
<li><p>操作步骤<br>  1、在数据库中创建对应的表</p>
<pre><code>create table userinfo(
username varchar(20),
password char(10),
uid int,
gid int,
comment varchar(50),
homedir varchar(50),
shell varchar(50)
)character set utf8;
</code></pre><p>  2、把要导入的文件拷贝到数据库搜索路径中</p>
<pre><code>1、查看数据库搜索路径
    show variables like &quot;secure_file_priv&quot;;
2、sudo cp /etc/passwd /var/lib/mysql-files/
</code></pre><p>  3、执行数据导入语句</p>
<pre><code>load data infile &quot;/var/lib/mysql-files/passwd&quot;
into table userinfo
fields terminated by &quot;:&quot;
lines terminated by &quot;\n&quot;;
</code></pre></li>
<li><p>练习</p>
<p>  将AID1709.csv文件导入到 aid1709 表中</p>
<p>  1、创建表</p>
<pre><code>create table aid1709(
id int,
name varchar(20),
score float(5,2),
phone bigint,
class char(7)
)character set utf8;
</code></pre><p>  2、拷贝文件</p>
<pre><code>$ : sudo cp ~/AID1709.csv /var/lib/mysql-files/
</code></pre><p>  3、执行数据导入语句</p>
<pre><code>load data infile &quot;/var/lib/mysql-files/AID1709.csv&quot;
into table aid1709
fields terminated by &quot;,&quot;
lines terminated by &quot;\n&quot;;
</code></pre></li>
</ul>
<h2 id="数据导出"><a href="#数据导出" class="headerlink" title="数据导出"></a>数据导出</h2><ul>
<li>作用<br>  将数据库中表记录保存到系统文件里</li>
<li>语法格式<br>  select … from 表名<br>  into outfile “文件名”<br>  fields terminated “分隔符”<br>  lines terminated by “\n”</li>
<li>示例<br>  1、把userinfo表中的用户名、密码和uid号三个字段的值给导出来<pre><code>-&gt; select username,password,uid from userinfo
-&gt; into outfile &quot;/var/lib/mysql-files/user1.txt&quot;
-&gt; fields terminated by &quot;   &quot;
-&gt; lines terminated by &quot;\n&quot;;
</code></pre>  2、把 mysql库下的user表中 user、host的值导出来,user.csv<pre><code>-&gt; select user,host from mysql.user
-&gt; into outfile &quot;/var/lib/mysql-files/user.csv&quot;
-&gt; fields terminated by &quot;,&quot;
-&gt; lines terminated by &quot;\n&quot;;
</code></pre></li>
<li>注意<br>  1、导出的内容由SQL查询语句决定<br>  2、执行导出命令时路径必须指定对应的数据库目录下<br>  chmod 777 文件名<br>  chmod +rw 文件名</li>
</ul>
<h2 id="表的复制"><a href="#表的复制" class="headerlink" title="表的复制"></a>表的复制</h2><p>表的重命名：alter table 表名 rename 新表名;</p>
<ul>
<li>复制语法格式<br>  create table 表名 select … from 表名 …;</li>
<li>示例<br>  1、复制 aid1709 表的全部记录和字段,aid17092<pre><code>create table aid17092 select * from aid1709;
</code></pre>  2、复制 aid1709 表中成绩低于65分的学生到表next<pre><code>create table next select * from aid1709 where socre&lt;65;
</code></pre></li>
<li>只复制表结构<pre><code>create table 表名 select * from 表名 where false;
</code></pre></li>
</ul>
<h2 id="嵌套查询-子查询"><a href="#嵌套查询-子查询" class="headerlink" title="嵌套查询(子查询)"></a>嵌套查询(子查询)</h2><ul>
<li>定义 ：把内层的查询结果作为外层查询的条件</li>
<li>语法<br>  SQL查询语句 where 条件(SQL查询语句)</li>
<li>示例<br>  1、把uid的值小于这个平均值的用户名和uid号显示出来<pre><code>select username,uid from userinfo 
where uid&lt;(select avg(uid) from userinfo);
</code></pre>  2、找出每个国家攻击力最高的英雄的名字和攻击值<pre><code>-&gt; select name,gongji from sanguo
-&gt; where gongji in(
-&gt; select max(gongji) from sanguo group by country);
</code></pre></li>
</ul>
<blockquote>
<h1 id="MySQL-第四部分"><a href="#MySQL-第四部分" class="headerlink" title="MySQL-第四部分"></a>MySQL-第四部分</h1></blockquote>
<h2 id="1、多表查询"><a href="#1、多表查询" class="headerlink" title="1、多表查询"></a>1、多表查询</h2><p>语法格式：<br>    select 字段名列表 from 表名列表 where 条件;</p>
<ul>
<li>显示省市详细信息<br>  select sheng.s_name,city.c_name from sheng,city where sheng.s_id=city.cfather_id;</li>
<li>显示省市县详细信息<br>  select sheng.s_name,city.c_name,xian.x_name from  sheng,city,xian  where sheng.s_id=city.cfather_id and city.c_id=xian.xfather_id;</li>
</ul>
<h2 id="2、连接查询"><a href="#2、连接查询" class="headerlink" title="2、连接查询"></a>2、连接查询</h2><h3 id="1、内连接-只有在满足连接条件情况才会将指定字段选出来"><a href="#1、内连接-只有在满足连接条件情况才会将指定字段选出来" class="headerlink" title="1、内连接 - 只有在满足连接条件情况才会将指定字段选出来"></a>1、内连接 - 只有在满足连接条件情况才会将指定字段选出来</h3><pre><code>1、语法格式
    select 字段名 from 表1 
    inner join 表2 on 条件 
    inner join 表3 on 条件;
2、示例
    1、显示省和市详细信息
        select sheng.s_name,city.c_name from sheng
        inner join city
        on sheng.s_id=city.cfather_id;
    2、显示省、市、县的详细信息
     select sheng.s_name,city.c_name,xian.x_name 
     from sheng 
     inner join city
     on sheng.s_id=city.cfather_id
     inner join xian
     on city.c_id=xian.xfather_id;
</code></pre><h3 id="2、外连接-将整个表合并然后进行查询"><a href="#2、外连接-将整个表合并然后进行查询" class="headerlink" title="2、外连接 - 将整个表合并然后进行查询"></a>2、外连接 - 将整个表合并然后进行查询</h3><pre><code>1、左连接
    1、定义：以左表为主显示查询结果
    2、语法格式：
        select 字段名列表 from 表1 
        left join 表2 on 条件
        left join 表3 on 条件;
    3、示例
        1、显示省、市详细信息
        select sheng.s_name,city.c_name from sheng
        left join city
        on sheng.s_id=city.cfather_id;
        2、显示省、市、县详细信息,要求所有的市全部显示
    select sheng.s_name,city.c_name,xian.x_name
    from sheng
    right join city 
    on sheng.s_id=city.cfather_id
    left join xian
    on city.c_id=xian.xfather_id;
2、右连接
    用法同左连接,以右表为主显示查询结果
</code></pre><h2 id="3、数据备份-mysqldump-在Linux终端操作"><a href="#3、数据备份-mysqldump-在Linux终端操作" class="headerlink" title="3、数据备份(mysqldump,在Linux终端操作)"></a>3、数据备份(mysqldump,在Linux终端操作)</h2><pre><code>1、命令格式
    mysqldump -u用户名 -p 源库名 &gt; 路径/***.sql
2、示例
    1、备份db4库
        mysqldump -uroot -p db4 &gt; ~/mydata/db4.sql
3、源库名的表示方式
    --all-databases        备份所有库
    库名                            备份单个库
    -B 库1 库2 ...        备份多个库
    库名 表1 表2 ...    备份指定库的指定表
4、练习
    1、备份所有库all.sql,放到mydata目录中
        mysqldump -uroot -p --all-databases &gt; all.sql
    2、备份db4库中的sheng、city和xian三张表为db4scx.sql
        mysqldump -uroot -p db4 sheng city xian &gt; db4scx.sql
</code></pre><h2 id="4、数据恢复"><a href="#4、数据恢复" class="headerlink" title="4、数据恢复"></a>4、数据恢复</h2><pre><code>1、命令格式
    mysql -u用户名 -p 目标库名 &lt; 路径/***.sql
2、恢复db4库
    1、先创建空库
        create database db4 character set utf8;
    2、恢复
        mysql -uroot -p db4 &lt; db4.sql
3、从所有库的备份中恢复某一个库(--one-database)
    mysql -u用户名 -p --one-database 目标库名 &lt; all.sql
4、(1).在db4.sheng新增一条记录
     (2).在db4库新创建一张表 t88
5、注意
    1、恢复库时如果恢复到原库会将表中数据覆盖,新增的表不会删除
    2、数据恢复时如果要恢复的库不存在,则先要创建空库
</code></pre><h2 id="5、事务和事务回滚"><a href="#5、事务和事务回滚" class="headerlink" title="5、事务和事务回滚"></a>5、事务和事务回滚</h2><pre><code>1、定义 ：一件事从开始发生到结束的整个过程
2、属性
    1、原子性
    2、一致性
    3、隔离性
    4、持久性
3、事务和事务回滚的应用
    1、事务应用
        1、开启事务
            mysql&gt; begin;
            mysql&gt; ...一条或者多条sql命令
                ##此时autocommit被禁用
        2、终止事务
            mysql&gt; commit;
            mysql&gt; rollback;
    2、注意
        事务回滚只针对于表记录的操作：增、删、改有效,对创建库、表的操作无效
4、案例
    1、背景
        你：建行卡
        你朋友：工商卡
        你在建行自动取款机上给你朋友工商卡转5000元
    2、过程
        表1：CCB
            create table CCB(
            name char(15),
            money int
            );
            insert into CCB values(&quot;Zhuanqian&quot;,10000);
        表2：ICBC
            create table ICBC(
            name char(15),
            money int
            );
            insert into ICBC values(&quot;Shouqian&quot;,4000);
    3、
        mysql&gt; begin;
        mysql&gt; update CCB set money=5000 where name
        mysql&gt; update ICBC set money=9000 where name
        mysql&gt; commit; 转账成功
        mysql&gt; rollback; 转账失败
</code></pre><h2 id="6、存储引擎-处理表的处理器"><a href="#6、存储引擎-处理表的处理器" class="headerlink" title="6、存储引擎(处理表的处理器)"></a>6、存储引擎(处理表的处理器)</h2><pre><code>1、基本操作
    1、查看所有的存储引擎
        show engines;
    2、查看已有表的存储引擎
        show create table 表名;
        ## engine=innodb
    3、创建表时指定存储引擎
        create table 表名(...)engine=myisam;
    4、工作中常用存储引擎
        InnoDB myisam
    [mysqld]
    defaut-storage-engine=myisam
2、常用存储引擎的特点
    1、innodb特点
        1、共享表空间
            表名.frm  表结构
            表名.ibd  表记录&amp;索引信息
        2、支持行级锁
    2、myisam特点
        1、独享表空间
            表名.frm  表结构
            表名.myd  表记录
            表名.myi  索引文件
        2、支持表级锁
3、锁
    1、加锁的目的
        解决客户端并发访问的冲突问题
    2、锁的分类
        1、锁类型
            读锁(select)共享锁：加读锁后不能更改表中内容,但可以进行查询
            写锁 互斥锁 排他锁
        2、锁粒度
            表级锁
            行级锁
4、如何决定表使用哪种存储引擎
    1、执行查询操作多的表使用myisam(使用innodb浪费资源)
    2、执行写操作多的表使用innodb存储引擎
</code></pre><h2 id="7、MySQL调优"><a href="#7、MySQL调优" class="headerlink" title="7、MySQL调优"></a>7、MySQL调优</h2><pre><code>1、选择合适的存储引擎
    查询多--&gt;myisam
    写操作多--&gt;innodb
2、SQL语句调优(尽量避免全表扫描)
    1、在select、where、order by常涉及到的字段上建立索引
    2、where子句中不适用 !=,否则导致全表扫描
    3、尽量避免NULL值判断,否则导致全表扫描
        示例：
        优化前：
            select id from t1 where number is null;
        优化后：
            可以在number设置默认值0,确保number无NULL值,查询如下：
            select id from t1 where number=0;
    4、尽量避免用 or 来连接条件,否则全表扫描
        优化前：
            select id from t1 where id=10 or id=20;
        优化后：
            select id from t1 where id=10
            union all
            select id from t1 where id=20;
    5、模糊查询尽量避免前置 % ,否则全表扫描
        select id from t1 where name like &quot;c%&quot;;
    6、尽量避免 in 和 not in,否则全表扫描
        示例：
            select id from t1 where number in(1,2,3);
            对于连续的值,尽量用between and
    7、尽量避免使用select * from t1;
        要用具体的字段名代替*,不要返回用不到的任何字段
</code></pre><h2 id="8、与Python交互"><a href="#8、与Python交互" class="headerlink" title="8、与Python交互"></a>8、与Python交互</h2><pre><code>1、交互类型
    1、python3
        pymysql $ sudo pip3 install pymysql
    2、python2
        MySQLdb $ sudo pip install mysql-python
2、connection对象
    1、创建与数据库连接对象(调用connect()方法)
        conn = pymysql.connect(参数列表)
        参数列表：
            1. host ：主机地址,本机:&apos;localhost&apos;
            2. port ：mysql端口,默认3306
            3. database        ：数据库名
            4. password ：连接密码
            5. charset ：编码方式,推荐使用utf8
            6. user ：用户
        示例：
            conn = pymysql.connect(host=&quot;localhost&quot;,
            user=&quot;root&quot;,password=&quot;123456&quot;,
            database=&quot;db4&quot;,charset=&quot;utf8&quot;)
    2、连接对象(如:conn)的方法
        1、close() 关闭连接
        2、commit() 提交到数据库执行
        3、rollback() 事务回滚操作
        4、cursor() 创建游标对象,用于执行SQL语句获得结果
3、游标对象(cursor对象)
    1、作用 ：执行sql语句
    2、创建游标对象：调用连接对象的cursor()方法
        示例：cursor1 = conn.cursor()
    3、游标对象的方法
        1、execute(operation[,参数]) 执行sql语句
        2、close() 关闭游标对象
        3、fetchone() 获取结果集的第一条记录,返回一个元组
        4、fetchmany(n) 获取结果计的n条记录,返回一个大元组
        5、fetchall() 获取结果集的所有记录,返回一个大元组
4、总结：pymysql使用流程
    1、建立数据库连接 conn
    2、创建游标对象 cursor1 = conn.cursor()
    3、利用游标对象的方法操作数据库
        cursor1.execute(&quot;sql语句&quot;)
    4、提交 conn.commit()
    5、关闭游标 cursor1.close()
    6、关闭数据库连接 conn.close()
</code></pre><p>9、workbench<br>    可视化软件</p>
<h2 id="10、ER模型"><a href="#10、ER模型" class="headerlink" title="10、ER模型"></a>10、ER模型</h2><pre><code>Entry - Relation
1、关系
    1、分类
        1、一对一关系(1:1) : 班级和班长
        2、一对多关系(1:n) : 公司和职工
        3、多对多关系(m:n) : 学生和课程
2、ER图的绘制
    1、矩形框代表实体,菱形框代表关系,椭圆形代表属性
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/07/mongodb/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Godshion">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="响神的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/07/mongodb/" itemprop="url">mongodb</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-07T10:31:00+08:00">
                2018-08-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  6,659 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  27 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="第一部分"><a href="#第一部分" class="headerlink" title="第一部分"></a>第一部分</h1><p>MongoDB （芒果数据库）</p>
<h2 id="数据存储阶段"><a href="#数据存储阶段" class="headerlink" title="数据存储阶段"></a>数据存储阶段</h2><ul>
<li><h2 id="文件管理阶段-（-txt-doc-xls）"><a href="#文件管理阶段-（-txt-doc-xls）" class="headerlink" title="文件管理阶段 （.txt  .doc  .xls）"></a>文件管理阶段 （.txt  .doc  .xls）</h2></li>
</ul>
<h3 id="优点："><a href="#优点：" class="headerlink" title="优点："></a>优点：</h3><ul>
<li>数据可以长期保存</li>
<li>可以存储大量的数据</li>
<li>使用简单<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点:"></a>缺点:</h3></li>
<li>数据的一致性差</li>
<li>数据的查找修改不方便</li>
<li><p>数据的冗余性大</p>
</li>
<li><h2 id="数据库存储阶段"><a href="#数据库存储阶段" class="headerlink" title="数据库存储阶段"></a>数据库存储阶段</h2></li>
</ul>
<h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ul>
<li>数据组织结构化，降低了冗余</li>
<li>提高了增删改查的效率</li>
<li>方便扩展</li>
<li>方便程序调用，做自动化的处理</li>
</ul>
<h3 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h3><ul>
<li>数据库使用往往需要特定的语句或者命令进行操作，相对比较复杂</li>
</ul>
<h2 id="几个概念"><a href="#几个概念" class="headerlink" title="几个概念"></a>几个概念</h2><ul>
<li><p>数据 ：能够输入到计算机中并被识别处理的信息的集合</p>
</li>
<li><p>数据结构：研究一个数据集合中，数据之间关系的学科</p>
</li>
<li><p>数据库：按照数据结构，存储管理数据的仓库。数据库是在数据库管理系统管理和控制下在一定介质上的数据集合。</p>
</li>
<li><p>数据库管理系统：数据库管理软件，用于建立维护数据库</p>
</li>
<li><p>数据库系统：由数据库和数据库管理系统等开发工具组成的集合</p>
</li>
</ul>
<hr>
<h2 id="关系型数据库"><a href="#关系型数据库" class="headerlink" title="关系型数据库"></a>关系型数据库</h2><p>采用关系模型来组织数据结构的数据库（二维表）</p>
<p>Oracle   DB2   SQLServer    MySQL   SqLite </p>
<h3 id="优点-1"><a href="#优点-1" class="headerlink" title="优点"></a>优点</h3><ul>
<li>容易理解，逻辑类似常见表格</li>
<li>使用方便，都使用sql语句，sql语句非常成熟</li>
<li>数据的一致性高，冗余低，完整性好</li>
<li>技术成熟，可以使用外部链接等复杂的操作</li>
</ul>
<h3 id="缺点："><a href="#缺点：" class="headerlink" title="缺点："></a>缺点：</h3><ul>
<li>每次都需要sql语句的解析，消耗较大</li>
<li>不能很好满足并发需求，特别是海量数据的爆发，关系型数据库普遍读写能力不足</li>
<li>关系型数据库内部每一步都要加锁的操作，以保证操作的原子性，增加了数据库负担</li>
<li>数据的一致性有时会导致大量的空间浪费</li>
</ul>
<h2 id="非关系型数据库-（NoSql-–-gt-not-only-sql）"><a href="#非关系型数据库-（NoSql-–-gt-not-only-sql）" class="headerlink" title="非关系型数据库 （NoSql –&gt; not only sql）"></a>非关系型数据库 （NoSql –&gt; not only sql）</h2><h3 id="优点-2"><a href="#优点-2" class="headerlink" title="优点"></a>优点</h3><ul>
<li>高并发，读写能力强</li>
<li>普遍比关系型数据库容易扩展</li>
<li>弱化了数据结构，降低了数据的一致性</li>
</ul>
<h3 id="缺点-2"><a href="#缺点-2" class="headerlink" title="缺点"></a>缺点</h3><ul>
<li>通用性差，没有sql一样的一致化的操作</li>
<li>操作灵活，容易混乱</li>
<li>没有join等操作，有的数据库不支持关系型数据库中类似事务等操作。版本更新快</li>
</ul>
<h2 id="Nosql的使用情况"><a href="#Nosql的使用情况" class="headerlink" title="Nosql的使用情况"></a>Nosql的使用情况</h2><ol>
<li>数据一致性要求低</li>
<li>数据库处理海量并发存储</li>
<li>数据库大小不容易估算，需要分布扩展</li>
<li>给定的数据比较容易建立Nosql模型</li>
</ol>
<h2 id="Nosql的分类"><a href="#Nosql的分类" class="headerlink" title="Nosql的分类"></a>Nosql的分类</h2><ul>
<li>键值型数据库 ： Redis  </li>
<li>列存储数据库  </li>
<li>文档型数据库 ： MongoDB  </li>
<li>图形数据库</li>
</ul>
<h2 id="MongoDB数据库-（非关系型数据库—》-文档型数据库）"><a href="#MongoDB数据库-（非关系型数据库—》-文档型数据库）" class="headerlink" title="MongoDB数据库 （非关系型数据库—》 文档型数据库）"></a>MongoDB数据库 （非关系型数据库—》 文档型数据库）</h2><p>1.由c++编写的数据库管理系统<br>2.支持丰富的增删改查操作<br>3.支持丰富的数据类型<br>4.支持众多的编程语言接口（python PHP c++  c#）<br>5.使用方便，便于部署。在非关系数据库中属于比较成熟   的数据库</p>
<h2 id="MongoDB安装"><a href="#MongoDB安装" class="headerlink" title="MongoDB安装"></a>MongoDB安装</h2><ul>
<li>自动安装<br><code>sudo apt-get install mongodb</code></li>
</ul>
<ul>
<li><p>用来查看软件位置<br><code>whereis  软件名称</code></p>
</li>
<li><p>默认安装位置： /var/lib/mongodb</p>
</li>
<li>配置文件位置： /etc/mongodb.conf</li>
<li>命令集: /usr/bin  /usr/local/bin</li>
</ul>
<ul>
<li>手动安装</li>
</ul>
<ol>
<li><p>下载MongoDB （开源）<br><a href="http://www.mongodb.com" target="_blank" rel="noopener">www.mongodb.com</a> —&gt;get mongodb–&gt;community server<br>选择想要的版本下载</p>
</li>
<li><p>选择合适的位置解压 （/usr/local  /opt）<br>tar 解压后得到Mongodb文件夹</p>
</li>
<li><p>将MongoDB文件夹中的bin文件夹变为环境变量<br>PATH=$PATH:/opt/mongo…./bin<br>export PATH<br>将以上两句写入 /etc/rc.local</p>
</li>
<li><p>重启系统</p>
</li>
</ol>
<h2 id="MongoDB命令"><a href="#MongoDB命令" class="headerlink" title="MongoDB命令"></a>MongoDB命令</h2><ol>
<li><p>设置数据库的存储位置<br>mongod  –dbpath  目录<br>e.g.mongod –dbpath  dbs</p>
</li>
<li><p>设置数据库端口<br>mongod  –port   8080<br>*如果不设置默认 27017</p>
</li>
<li><p><code>mongo</code><br>进入mongo shell界面 ：mongodb的交互界面，用来通过mongo语句操作mongodb数据库<br>退出mongo shell ： <code>quit()</code>  或者 ctrl + c </p>
</li>
<li><p>组织结构 ： 键值对–&gt; 文档 —&gt; 集合 –&gt;数据库</p>
</li>
</ol>
<h4 id="mysql存放情况"><a href="#mysql存放情况" class="headerlink" title="mysql存放情况"></a>mysql存放情况</h4><table>
<thead>
<tr>
<th>ID</th>
<th>name</th>
<th>age</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Lily</td>
<td>17</td>
</tr>
<tr>
<td>2</td>
<td>Lucy</td>
<td>18</td>
</tr>
</tbody>
</table>
<h4 id="mongodb存放情况"><a href="#mongodb存放情况" class="headerlink" title="mongodb存放情况"></a>mongodb存放情况</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&quot;_id&quot;:ObjectId(&quot;agfsdfglk989q98&quot;),</span><br><span class="line">	&quot;name&quot;:&quot;Lily&quot;,</span><br><span class="line">	&quot;age&quot;:17</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">	&quot;_id&quot;:ObjectId(&quot;aggfsdfg3989q98&quot;),</span><br><span class="line">	&quot;name&quot;:&quot;Lucy&quot;,</span><br><span class="line">	&quot;age&quot;:18</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="mysql-和-mongodb-概念比较"><a href="#mysql-和-mongodb-概念比较" class="headerlink" title="mysql 和 mongodb 概念比较"></a>mysql 和 mongodb 概念比较</h3><table>
<thead>
<tr>
<th>mysql</th>
<th>mongodb</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>database</td>
<td>database</td>
<td>数据库</td>
</tr>
<tr>
<td>table</td>
<td>collection</td>
<td>表/集合</td>
</tr>
<tr>
<td>column</td>
<td>field</td>
<td>字段/域</td>
</tr>
<tr>
<td>row</td>
<td>document</td>
<td>记录/文档</td>
</tr>
<tr>
<td>index</td>
<td>index</td>
<td>索引</td>
</tr>
</tbody>
</table>
<h2 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h2><ul>
<li><p>创建一个名字为stu的数据库<br><code>use databaseName</code><br>e.g.use  stu<br><strong> use 实际上是表示选择使用哪个数据库，如果这个数据库不存在则表示同时创建这个数据库</strong><br><strong> 使用use后数据库不会被马上创建，而是需要写入数据时才会创建</strong></p>
</li>
<li><p>查看当前系统下数据库<br><code>show  dbs</code></p>
</li>
<li><p>系统数据库：<br>admin ： 存放用户及其权限<br>local ： 存储本地数据<br>config ： 存储分片信息</p>
</li>
<li><p>数据库的命名规则：<br>1.使用UTF-8字符<br>2.不能含有空格，点  /  \  ‘\0’字符<br>3.长度不能超过64字节<br>4.不能和系统数据库重名<br>5.习惯使用小写字母，表达数据库功能</p>
</li>
</ul>
<p><strong> db：mongo系统全局变量，代表你当前正在使用的数据库</strong></p>
<p><strong> 当不用use选择任何数据库时，db表示test。此时插入数据则创建test数据库</strong></p>
<h2 id="数据库的备份和恢复"><a href="#数据库的备份和恢复" class="headerlink" title="数据库的备份和恢复"></a>数据库的备份和恢复</h2><ul>
<li><p>备份</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mongodump -h dbhost  -d  dbname  -o  dbdir</span><br><span class="line">e.g. mongodump -h 127.0.0.1 -d stu  -o  bak</span><br><span class="line">将127.0.0.1主机上stu数据库备份入bak文件夹</span><br></pre></td></tr></table></figure>
</li>
<li><p>恢复</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mongorestore -h  dbhost:port  -d dbname path</span><br><span class="line">e.g. mongorestore -h 127.0.0.1:27017 -d student bak/stu</span><br><span class="line">将bak文件夹下备份的stu数据库恢复到 本机的student数据库中。student不存在则会自动创建</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="数据库的监测"><a href="#数据库的监测" class="headerlink" title="数据库的监测"></a>数据库的监测</h2><ul>
<li><p><code>mongostat</code><br>insert query update delete ： 每秒增删改查的次数<br>command  每秒运行命令次数<br>flushes  每秒和磁盘交互次数<br>vsize  使用虚拟内存</p>
</li>
<li><p><code>mongotop</code><br>监测每个数据库的读写时长</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>ns</th>
<th>total</th>
<th>read</th>
<th>write</th>
</tr>
</thead>
<tbody>
<tr>
<td>数据集合</td>
<td>总时长</td>
<td>读时长</td>
<td>写时长</td>
</tr>
</tbody>
</table>
<h2 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h2><p><code>db.dropDatabase()</code><br>删除db当前所代表的数据库</p>
<h2 id="创建集合"><a href="#创建集合" class="headerlink" title="创建集合"></a>创建集合</h2><p><code>db.createCollection(collection_name)</code><br>e.g.  db.createCollection(‘class2’)<br>创建一个集合名字为class2</p>
<hr>
<p>当向一个集合中插入数据的时候，如果这个集合不存在则会自动创建<br><code>db.collectionName.insert(...)</code><br>e.g.  db.class3.insert({name:’Lucy’})<br>      如果class3不存在则自动创建这个集合</p>
<hr>
<p>集合命名规则：<br>1.合法的utf-8字符串<br>2.不能有’\0’<br>3.不能以system.开头 因为这是系统的保留前缀<br>4.不能和关键字重复</p>
<h2 id="删除集合"><a href="#删除集合" class="headerlink" title="删除集合"></a>删除集合</h2><p><code>db.collectionName.drop()</code><br>e.g. db.class3.drop()<br>删除class3这个集合</p>
<h2 id="集合重命名"><a href="#集合重命名" class="headerlink" title="集合重命名"></a>集合重命名</h2><p><code>db.collectionName.renameCollection(&quot;new_name&quot;)</code><br>e.g.   db.class2.renameCollection(“class0”)<br>将class2 重命名为class0 </p>
<h2 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h2><p>mongodb中数据的组织形式 —&gt;文档<br>mongo文档： 以键值对的形式组成的类似于字典的数据描述形式</p>
<h2 id="键-：即文档的域"><a href="#键-：即文档的域" class="headerlink" title="键 ：即文档的域"></a>键 ：即文档的域</h2><ul>
<li>键的命名规则</li>
</ul>
<ol>
<li>utf-8格式字符串</li>
<li>不适用‘\0’ 通常不会适用.和$</li>
<li>一个文档中键不可以重复</li>
</ol>
<p><strong> 文档中的键值对是有序的</strong><br><strong> mongodb严格的区分大小写</strong></p>
<ul>
<li>值 ：即文档存储的数据,支持bson类型</li>
</ul>
<table>
<thead>
<tr>
<th>类型</th>
<th>值</th>
</tr>
</thead>
<tbody>
<tr>
<td>整形</td>
<td>整数</td>
</tr>
<tr>
<td>布尔类型</td>
<td>true  false</td>
</tr>
<tr>
<td>浮点型</td>
<td>小数</td>
</tr>
<tr>
<td>Array</td>
<td>数组</td>
</tr>
<tr>
<td>Timestamp</td>
<td>时间戳</td>
</tr>
<tr>
<td>Date</td>
<td>时间日期</td>
</tr>
<tr>
<td>Object</td>
<td>内部文档</td>
</tr>
<tr>
<td>Null</td>
<td>空值 null</td>
</tr>
<tr>
<td>Symbol</td>
<td>特殊字符</td>
</tr>
<tr>
<td>String</td>
<td>字符串</td>
</tr>
<tr>
<td>Binary data</td>
<td>二进制字符串</td>
</tr>
<tr>
<td>code</td>
<td>代码</td>
</tr>
<tr>
<td>regex</td>
<td>正则表达式</td>
</tr>
<tr>
<td>ObjectId</td>
<td>ObjectId字串</td>
</tr>
</tbody>
</table>
<ul>
<li>ObjectId<br>“_id” : ObjectId(“5b28a02c154710728ef6cac2”)<br>_id : 当在mongodb中插入文档时，如果不指定_id则会自动添加这个域。值是一个ObjectId类型数据<br>24位 16进制数 —-&gt;保证_id值的唯一性<br>8位文档创建时间  6位机器id  4位进程id  6位计数器</li>
</ul>
<hr>
<h4 id="集合中的文档"><a href="#集合中的文档" class="headerlink" title="集合中的文档"></a>集合中的文档</h4><ol>
<li>集合中的文档不一定都有相同的域</li>
<li>集合中文档域的个数也不一定相同</li>
</ol>
<h4 id="集合的设计"><a href="#集合的设计" class="headerlink" title="集合的设计"></a>集合的设计</h4><ol>
<li>集合中的文档尽可能描述同一类数据</li>
<li>同一类数据不要过多的分散集合存放</li>
<li>集合中文档的层次不要包含太多</li>
</ol>
<h2 id="插入文档"><a href="#插入文档" class="headerlink" title="插入文档"></a>插入文档</h2><ul>
<li>插入单个文档<br><code>db.collectionName.insert()</code></li>
</ul>
<p>e.g. db.class1.insert({name:’Lucy’,age:18})</p>
<p>1 <strong>插入操作的键可以不加引号</strong><br>2 <strong>查看插入结果  db.class1.find()</strong><br>3 <strong>_id 为系统自动添加主键，如果自己写_id则会使用自己的值，但是仍然不能重复</strong></p>
<ul>
<li>插入多个文档<br><code>db.collectionName.insert([{},{},{}])</code><br>e.g. db.class0.insert([{name:’阿花’,age:28},{name:’阿彪’,age:27},{name:’阿宝’,age:’26’}])</li>
</ul>
<ul>
<li>save 插入文档<br>db.collectionName.save()<br>e.g.  db.class0.save({name:’阿荣’,age:29})</li>
</ul>
<p>1 <strong>如果不加_id选项时save和insert相同</strong><br>2 <strong>如果加_id项，则如果此_id值存在则save表示修改该文档内容，如果不存在则正常插入</strong></p>
<h4 id="作业："><a href="#作业：" class="headerlink" title="作业："></a>作业：</h4><ol>
<li>关系型数据库和非关系型数据库有什么区别？</li>
<li>复习mysql增删改查操作</li>
<li>练习mongo数据库的创建删除，集合的创建删除，文档插入</li>
</ol>
<h1 id="第二部分"><a href="#第二部分" class="headerlink" title="第二部分"></a>第二部分</h1><h2 id="获取集合对象"><a href="#获取集合对象" class="headerlink" title="获取集合对象"></a>获取集合对象</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.class1</span><br><span class="line">db.getCollection(&quot;class1&quot;)</span><br><span class="line">e.g.  db.getCollection(&quot;class0&quot;).insert(&#123;name:&apos;阿喜&apos;,age:25&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="查找操作"><a href="#查找操作" class="headerlink" title="查找操作"></a>查找操作</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql : select ... from  table where  ....</span><br><span class="line">mongo :  db.collection.find(query,field)</span><br></pre></td></tr></table></figure>
<h2 id="查找所有内容"><a href="#查找所有内容" class="headerlink" title="查找所有内容"></a>查找所有内容</h2><p><code>db.collection.find()</code>  —-&gt; select * from table</p>
<h3 id="find-query-field"><a href="#find-query-field" class="headerlink" title="find(query,field)"></a>find(query,field)</h3><p><strong>功能 ：</strong> 查找数据<br><strong>参数 ：</strong><br>query ： 筛选条件，相当于where子句<br>field ： 选定要展示的域<br><strong>返回值：</strong> 返回查找到的文档</p>
<h4 id="query-：-以键值对的形式给出筛选条件"><a href="#query-：-以键值对的形式给出筛选条件" class="headerlink" title="query ： 以键值对的形式给出筛选条件"></a>query ： 以键值对的形式给出筛选条件</h4><p>e.g. db.class0.find({name:’阿宝’})</p>
<h4 id="field-：以键值对的形式给出要展示（不展示）的域-域名为键，值为1则表示展示，0表示不展示"><a href="#field-：以键值对的形式给出要展示（不展示）的域-域名为键，值为1则表示展示，0表示不展示" class="headerlink" title="field ：以键值对的形式给出要展示（不展示）的域,域名为键，值为1则表示展示，0表示不展示"></a>field ：以键值对的形式给出要展示（不展示）的域,域名为键，值为1则表示展示，0表示不展示</h4><ul>
<li>如果某个域设为0则表示不展示该域，其他域均显示<br>如果某个域设为1则表示展示该域，其他域均不显示</li>
<li>在field显示设置的时候普通域0和1不能同时出现</li>
<li>_id 默认永远显示，除非设置为0</li>
<li>如果不写field参数则表示所有内容都显示<br><code>e.g.   db.class1.find({name:&#39;Abby&#39;},{_id:0,name:1,age:1})</code></li>
</ul>
<h3 id="findOne-query-field"><a href="#findOne-query-field" class="headerlink" title="findOne(query,field)"></a>findOne(query,field)</h3><p><strong>功能 :</strong> 查找符合条件的第一条文档<br><strong>参数 ：</strong> 同find<br><strong>返回值：</strong>返回查找到的文档<br><code>e.g.  db.class1.findOne({age:18},{_id:0})</code></p>
<h2 id="query更多的筛选功能"><a href="#query更多的筛选功能" class="headerlink" title="query更多的筛选功能"></a>query更多的筛选功能</h2><h3 id="操作符：使用-符号注明的一个特殊字串，表达一定的含义。-比如-lt-表示小于"><a href="#操作符：使用-符号注明的一个特殊字串，表达一定的含义。-比如-lt-表示小于" class="headerlink" title="操作符：使用$符号注明的一个特殊字串，表达一定的含义。 比如 $lt 表示小于"></a>操作符：使用$符号注明的一个特殊字串，表达一定的含义。 比如 $lt 表示小于</h3><h4 id="比较操作符"><a href="#比较操作符" class="headerlink" title="比较操作符"></a>比较操作符</h4><table>
<thead>
<tr>
<th>符号</th>
<th>意义</th>
<th>表达式</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>$eq</td>
<td>等于</td>
<td>db.class1.find({age:{$eq:18}},{_id:0})</td>
<td><strong>字符串也可以比较大小</strong></td>
</tr>
<tr>
<td>$lt</td>
<td>小于</td>
<td>db.class1.find({age:{$lt:18}},{_id:0})</td>
<td></td>
</tr>
<tr>
<td>$lte</td>
<td>小于等于</td>
<td>db.class0.find({age:{$lte:27}},{_id:0})</td>
<td></td>
</tr>
<tr>
<td>$gt</td>
<td>大于</td>
<td>db.class0.find({age:{$gt:26}},{_id:0})</td>
<td></td>
</tr>
<tr>
<td>$gte</td>
<td>大于等于</td>
<td>db.class0.find({age:{$gte:27}},{_id:0})</td>
<td></td>
</tr>
<tr>
<td>$ne</td>
<td>不等于</td>
<td>db.class0.find({age:{$ne:27}},{_id:0})</td>
<td>如果一个文档不存在某个域，则也认为不等于</td>
</tr>
<tr>
<td>$in</td>
<td>包含</td>
<td>db.class0.find({age:{$in:[25,27,30]}},{_id:0})</td>
<td>年龄包含在25 27 30中的</td>
</tr>
<tr>
<td>$nin</td>
<td>不包含</td>
<td>db.class0.find({age:{$nin:[24,25,26]}},{_id:0})</td>
<td>年龄不包含24，25，26 </td>
</tr>
</tbody>
</table>
<h4 id="逻辑操作符"><a href="#逻辑操作符" class="headerlink" title="逻辑操作符"></a>逻辑操作符</h4><table>
<thead>
<tr>
<th>符号</th>
<th>意义</th>
<th>表达式 </th>
</tr>
</thead>
<tbody>
<tr>
<td>$and</td>
<td>逻辑与</td>
<td>db.class1.find({$and:[{name:{$lt:’Tom’}},{age:17}]},{_id:0})</td>
</tr>
<tr>
<td>$or</td>
<td>逻辑或</td>
<td>db.class0.find({$or:[{age:{$gt:28}},{age:{$lt:26}}]},{_id:0})</td>
</tr>
<tr>
<td>$not</td>
<td>逻辑非</td>
<td>db.class1.find({age:{$not:{$eq:18}}},{_id:0})</td>
</tr>
<tr>
<td>$nor</td>
<td>既不也不</td>
<td>db.class1.find({$nor:[{age:17},{sex:’m’}]},{_id:0})</td>
</tr>
</tbody>
</table>
<h4 id="条件混合"><a href="#条件混合" class="headerlink" title="条件混合"></a>条件混合</h4><p>（年龄大于27 并且叫阿花） 或者  叫阿喜</p>
<p><code>db.class0.find({$or:[{name:&#39;阿花&#39;,age:{$gt:27}},{name:&#39;阿喜&#39;}]},{_id:0})</code></p>
<h4 id="数组值-1-2-3-4"><a href="#数组值-1-2-3-4" class="headerlink" title="数组值 [1,2,3,4]"></a>数组值 [1,2,3,4]</h4><ul>
<li>数值类型可以混合</li>
<li>是有序的</li>
</ul>
<h4 id="数组查找"><a href="#数组查找" class="headerlink" title="数组查找"></a>数组查找</h4><table>
<thead>
<tr>
<th>符号</th>
<th>意义</th>
<th>表达式 </th>
</tr>
</thead>
<tbody>
<tr>
<td>null</td>
<td>查看数组中是否包含某一项</td>
<td>db.class2.find({score:{$lt:60}},{_id:0})</td>
</tr>
<tr>
<td>$all</td>
<td>查找数组中同时包含多项的文档</td>
<td>db.class2.find({score:{$all:[65,88]}},{_id:0})</td>
</tr>
<tr>
<td>$size</td>
<td>通过数组中元素个数查找</td>
<td>db.class2.find({score:{$size:4}},{_id:0})</td>
</tr>
<tr>
<td>$slice</td>
<td>显示数组中的前几项</td>
<td>db.class2.find({},{_id:0,score:{$slice:2}})</td>
</tr>
<tr>
<td>$slice</td>
<td>跳过数组中第一项显示后两项</td>
<td>db.class2.find({},{_id:0,score:{$slice:[1,2]}})</td>
</tr>
<tr>
<td>$exists</td>
<td>判断一个域是否存在</td>
<td>db.class1.find({sex:{$exists:true}},{_id:0})</td>
</tr>
<tr>
<td>$mod</td>
<td>查找age除以2余数为1 的文档</td>
<td>db.class2.find({age:{$mod:[2,1]}},{_id:0})</td>
</tr>
<tr>
<td>$type</td>
<td>查找指定数据类型的文档</td>
<td>db.class2.find({age:{$type:1}},{_id:0})</td>
</tr>
</tbody>
</table>
<p><strong>关于$type的类型取值如下</strong></p>
<table>
<thead>
<tr>
<th>类型描述</th>
<th>类型值</th>
</tr>
</thead>
<tbody>
<tr>
<td>Double</td>
<td>1</td>
</tr>
<tr>
<td>String</td>
<td>2</td>
</tr>
<tr>
<td>Object</td>
<td>3</td>
</tr>
<tr>
<td>Array</td>
<td>4</td>
</tr>
<tr>
<td>Binary data</td>
<td>5</td>
</tr>
<tr>
<td>Object id</td>
<td>7</td>
</tr>
<tr>
<td>Boolean</td>
<td>8</td>
</tr>
<tr>
<td>Date</td>
<td>9</td>
</tr>
<tr>
<td>Null</td>
<td>10</td>
</tr>
<tr>
<td>Regular expression</td>
<td>11</td>
</tr>
<tr>
<td>JavaScript code</td>
<td>13</td>
</tr>
<tr>
<td>Symbol</td>
<td>14</td>
</tr>
<tr>
<td>JavaScript code with scope</td>
<td>15</td>
</tr>
<tr>
<td>32-bit integer</td>
<td>16</td>
</tr>
<tr>
<td>Timestamp</td>
<td>17</td>
</tr>
<tr>
<td>64-bit integer</td>
<td>18</td>
</tr>
<tr>
<td>Min key</td>
<td>255</td>
</tr>
<tr>
<td>Max key</td>
<td>127</td>
</tr>
</tbody>
</table>
<h4 id="查找结果相关的函数"><a href="#查找结果相关的函数" class="headerlink" title="查找结果相关的函数"></a>查找结果相关的函数</h4><table>
<thead>
<tr>
<th>函数名</th>
<th>功能</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr>
<td>distinct()</td>
<td>查看集合某个域的取值范围</td>
</tr>
<tr>
<td>pretty()</td>
<td>格式化显示查找结果</td>
</tr>
<tr>
<td>limit(n)</td>
<td>显示查找结果的前2条</td>
<td>db.class0.find({},{_id:0}).limit(2)</td>
</tr>
<tr>
<td>skip(n)</td>
<td>显示查找结果跳过前2条</td>
<td>db.class0.find({},{_id:0}).skip(2)</td>
</tr>
<tr>
<td>count()</td>
<td>查找结果计数</td>
<td>db.class0.find({age:{$gt:26}},{_id:0}).count()</td>
</tr>
<tr>
<td>sort({域:1/-1})</td>
<td>对查找结果排序显示</td>
<td>db.class2.find({},{_id:0}).sort({age:1})</td>
</tr>
</tbody>
</table>
<p><strong> sort函数参数1 表示按照升序排列  -1表示降序排列</strong></p>
<h4 id="函数连续使用"><a href="#函数连续使用" class="headerlink" title="函数连续使用"></a>函数连续使用</h4><p>当函数返回的是文档集合时可以连续调用操作函数<br>e.g.  db.class2.find({},{_id:0}).sort({age:1}).limit(3)</p>
<h3 id="文档删除操作"><a href="#文档删除操作" class="headerlink" title="文档删除操作"></a>文档删除操作</h3><p><code>db.collection.remove(query,justOne)</code><br>功能 ： 删除文档<br>参数 ： </p>
<ul>
<li>query  : 筛选要删除的文档 相当于where,用法同查找操作</li>
<li>justOne：布尔值，默认为false 表示删除所有符合条件的文档,如果赋值为true则只删除第一条符合条件文档<br>e.g.  <code>db.class1.remove({sex:{$exists:true}})</code> 删除所有有sex域的文档<br>e.g.  <code>db.class1.remove({age:17},true)</code>删除第一条年龄为17的文档</li>
</ul>
<h3 id="删除集合中所有文档"><a href="#删除集合中所有文档" class="headerlink" title="删除集合中所有文档"></a>删除集合中所有文档</h3><p><code>db.collection.remove({})</code><br>e.g.  db.class0.remove({})  </p>
<p>练习：</p>
<ol>
<li>创建数据库 名字 grade<br>use grade</li>
<li>数据库中创建集合名字 class</li>
<li>集合中插入若干文档，文档格式如下<br>name:’zhang’,age:10,sex:’m’,hobby:[‘a’,’b’]｝<br>hobby 可以是 ： draw sing  dance  basketball  football  pingpong  computer<br>db.class.insert(｛name:’zhang’,age:10,sex:’m’,hobby:[‘a’,’b’]｝)</li>
<li>查找练习</li>
</ol>
<hr>
<p>查看班级所有人信息<br>db.class.find()</p>
<hr>
<p>查看班级中年龄为8岁的学生信息<br>find({age:8})</p>
<hr>
<p>查看年龄大于10岁的学生信息<br>find({age:{$gt:10}})</p>
<hr>
<p>查看年龄在8-11岁之间的学生信息<br>find({age:{$gte:8,$lte:11}})</p>
<hr>
<p>找到年龄为9岁且为男生的学生<br>find({age:9,sex:’m’})</p>
<hr>
<p>找到年龄小于7岁或者大于11岁的学生<br>find({$or:[{age:{$lt:7}},{age:{$gt:11}}]})</p>
<hr>
<p>找到年龄是8岁或者11岁的学生<br>find({age:{$in:[8,11]}})</p>
<hr>
<p>找到有两项兴趣爱好的学生<br>find({hobby:{$size:2}})</p>
<hr>
<p>找到兴趣爱好中有draw的学生<br>find({hobby:’draw’})</p>
<hr>
<p>找到喜欢画画和跳舞的学生<br>find({hobby:{$all:[‘draw’,’dance’]}})</p>
<hr>
<p>统计兴趣有三项的学生人数<br>find({hobby:{$size:3}}).count()</p>
<hr>
<p>找出本班年龄第二大的学生<br>find().sort({age:-1}).skip(1).limit(1)</p>
<hr>
<p>查看学生的兴趣范围<br>db.class.distinct(‘hobby’)</p>
<hr>
<p>找到班级中年龄最大的三个学生<br>find().sort({age:-1}).limit(3)</p>
<ol start="5">
<li>删除所有年龄大于12或者小于6岁的学生<br>db.class.remove({$or:[{age:{$lt:6}},{age:{$gt:12}}]})</li>
</ol>
<hr>
<h1 id="第三部分"><a href="#第三部分" class="headerlink" title="第三部分"></a>第三部分</h1><h2 id="修改数据"><a href="#修改数据" class="headerlink" title="修改数据"></a>修改数据</h2><p><code>db.collection.update(query,update,upsert,multi)</code><br><strong>功能：</strong>修改文档<br><strong>参数：</strong></p>
<ul>
<li>query ： 筛选要修改的文档，相当于where子句,用法同查找</li>
<li>update： 将筛选的文档修改什么内容，相当于set。需要配合修改操作符使用</li>
<li>upsert： bool值  默认为false  表示如果query的文档不存在则无法修改,如果设置为true 则表示如果筛选的文档不存在则根据修改内容插入一条文档</li>
<li>multi ： bool值 默认为false 表示如果有多条文档符合筛选条件只修改第一条，如果设置为true则表示修改全部</li>
</ul>
<p>e.g. 将Lucy年龄改为20  <code>db.class1.update({name:&#39;Lucy&#39;},{$set:{age:20}})</code><br>e.g. 如果没有name 为 Lily的文档则插入一条   <code>db.class1.update({name:&#39;Lily&#39;},{$set:{age:20}},true)</code><br>e.g.  如果匹配到的文档有多个，则都进行修改 <code>db.class1.update({age:17},{$set:{age:18}},false,true)</code></p>
<h2 id="修改操作符"><a href="#修改操作符" class="headerlink" title="修改操作符"></a>修改操作符</h2><table>
<thead>
<tr>
<th>操作符</th>
<th>说明</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr>
<td>$set</td>
<td>修改一个域的值，或者增加一个域</td>
<td>db.class1.update({},{$set:{sex:’w’}},false,true)</td>
</tr>
<tr>
<td></td>
<td></td>
<td>db.class1.update({name:’Abby’},{$set:{age:19,sex:’m’}})</td>
</tr>
<tr>
<td>$unset</td>
<td>删除一个域</td>
<td>db.class1.update({name:’Abby’},{$unset:{sex:0}})</td>
<td></td>
</tr>
<tr>
<td>$rename</td>
<td>修改域名</td>
<td>db.class1.update({},{$rename:{sex:’gender’}},false,true)</td>
<td></td>
</tr>
<tr>
<td>$setOnInsert</td>
<td>如果第三个参数为true 并且插入新的文档，则作为插入补充内容</td>
<td>db.class1.update({name:’Jame’},{$set:{age:19},$setOnInsert:{gender:’m’,’tel’:”12345”}},true)</td>
</tr>
<tr>
<td>$inc</td>
<td>加减修改器</td>
<td>db.class1.update({name:’Abby’},{$inc:{age:1}})</td>
</tr>
<tr>
<td>$mul</td>
<td>乘除法修改器</td>
<td>db.class1.update({name:’Jame’},{$mul:{age:0.5}})</td>
</tr>
<tr>
<td>$min</td>
<td>如果筛选的文档指定的值小于min则不修改</td>
<td>db.class1.update({gender:’w’},{$min:{age:19}},false,true)</td>
</tr>
<tr>
<td>$max</td>
<td>如果筛选的文档指定域的值大于max值则不变</td>
<td>db.class1.update({name:’Jame’},{$max:{age:20}})</td>
</tr>
</tbody>
</table>
<h2 id="数组修改器"><a href="#数组修改器" class="headerlink" title="数组修改器"></a>数组修改器</h2><table>
<thead>
<tr>
<th>操作符</th>
<th>说明</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr>
<td>$push</td>
<td>向数组中添加一项</td>
<td>db.class2.update({name:’小刚’},{$push:{score:10}})</td>
</tr>
<tr>
<td>$pushAll</td>
<td>向数组中添加多项</td>
<td>db.class2.update({name:’小明’},{$pushAll:{score:[10,5]}})</td>
</tr>
<tr>
<td>$pull</td>
<td>从数组中删除一项</td>
<td>db.class2.update({name:’小红’},{$pull:{score:’78’}})</td>
</tr>
<tr>
<td>$pullAll</td>
<td>从数组中删除多项</td>
<td>db.class2.update({name:’小明’},{$pullAll:{score:[10,5]}})</td>
</tr>
<tr>
<td>$each</td>
<td>对多个值进行逐一操作</td>
<td>db.class2.update({name:’小明’},{$push:{score:{$each:[10,5]}}})</td>
</tr>
<tr>
<td>$position</td>
<td>需要搭配each使用，插入到1号位置</td>
<td>db.class2.update({name:’小红’},{$push:{score:{$each:[78],$position:1}}})</td>
</tr>
<tr>
<td>$sort</td>
<td>对数组进行排序</td>
<td>db.class2.update({name:’小明’},{$push:{score:{$each:[],$sort:1}}})</td>
</tr>
<tr>
<td>$pop</td>
<td>弹出最后一项</td>
<td>db.class2.update({name:’小明’},{$pop:{score:1}})</td>
</tr>
<tr>
<td>$addToSet</td>
<td>向数组中添加一项，不能和其他的项重复</td>
<td>db.class2.update({name:’小明’},{$addToSet:{score:5}})</td>
</tr>
</tbody>
</table>
<h2 id="时间类型"><a href="#时间类型" class="headerlink" title="时间类型"></a>时间类型</h2><hr>
<p>mongo中存储事件格式 ： ISODate()</p>
<hr>
<p>方法1： new Date()   自动生成当前时间<br><code>db.class0.insert({title:&#39;Python入门&#39;,date:new Date()})</code></p>
<hr>
<p>方法2： ISODate()  生成当前时间<br><code>db.class0.insert({title:&#39;Python精通&#39;,date:ISODate()})</code></p>
<hr>
<p>方法3： Date()  将生成的当前时间变为字符串<br><code>db.class0.insert({title:&#39;Python疯狂&#39;,date:Date()})</code></p>
<hr>
<p>ISODate()<br><strong>功能：</strong>生成mongo时间存储类型<br><strong>参数：</strong>参数为指定时间<br>“2018-1-1 12:10:34”<br>“20180101 12:10:34”<br>“20181102”<br>e.g. <code>db.class0.insert({title:&#39;Python崩溃&#39;,date:ISODate(&quot;2018-11-12 11:23:32&quot;)})</code></p>
<hr>
<h2 id="时间戳"><a href="#时间戳" class="headerlink" title="时间戳"></a>时间戳</h2><p>valueof（） 将当前时间生成为时间戳<br>e.g.  <code>db.class0.insert({title:&#39;Python放生&#39;,date:ISODate().valueOf()})</code></p>
<h2 id="null"><a href="#null" class="headerlink" title="null"></a>null</h2><ol>
<li>如果某个域存在却没有值可以设置为null<br>e.g.  <code>db.class0.insert({title:&#39;Python 爬虫&#39;,price:null})</code></li>
<li>某个域不存在，可以使用null来匹配<br>e.g. <code>db.class1.find({gender:null},{_id:0})</code> 当gender域不存在时可以找到这个文档</li>
</ol>
<h2 id="Object-内部文档"><a href="#Object-内部文档" class="headerlink" title="Object  内部文档"></a>Object  内部文档</h2><p>文档内某个域的值还是一个文档则这个文档为内部文档</p>
<ul>
<li>当需要使用内部文档某个域时，可以使用外部文档引用内部文档的方式。但是注意在使用时需要加引号<br>e.g. <code>db.class3.find({&#39;book2.title&#39;:&#39;Css3&#39;},{_id:0})</code><br>e.g. <code>db.class3.update({&#39;book3.title&#39;:&#39;JavaScript&#39;},{$set:{&#39;book3.price&#39;:38.8}})</code></li>
</ul>
<h2 id="数组的下标引用"><a href="#数组的下标引用" class="headerlink" title="数组的下标引用"></a>数组的下标引用</h2><p>使用数组时，可以使用数组域数组序列下标的方式使用数组中的具体某一个元素<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">e.g.  修改数组中的第0项</span><br><span class="line">db.class2.update(&#123;name:&quot;小明&quot;&#125;,&#123;$set:&#123;&apos;score.0&apos;:15&#125;&#125;)</span><br><span class="line">e.g. 通过数组中的第0项查找</span><br><span class="line">db.class2.find(&#123;&apos;score.0&apos;:15&#125;,&#123;_id:0&#125;)</span><br></pre></td></tr></table></figure></p>
<h2 id="查找结果的有序性"><a href="#查找结果的有序性" class="headerlink" title="查找结果的有序性"></a>查找结果的有序性</h2><p>即可以对find查找结果使用[]引用序列下标的方式获取查找结果的第几项<br>e.g.<code>db.class2.find({},{_id:0})[3]</code></p>
<hr>
<p>练习 ：<br>使用之前的grade数据库</p>
<hr>
<ol>
<li>将小红年龄修改为8岁，兴趣爱好变为跳舞 画画<br>｛$set:{age:8,hobby:[‘dance’,’draw’]}｝</li>
</ol>
<hr>
<ol start="2">
<li>追加小明的兴趣 爱好 唱歌<br>{$push:{hobby:’sing’}}</li>
</ol>
<hr>
<ol start="3">
<li>小王兴趣爱好多了 吹牛，打篮球<br>{$pushAll:{hobby:[‘吹牛’,’basketball’]}}</li>
</ol>
<hr>
<ol start="4">
<li>小李兴趣多了跑步和唱歌，但是要确保不和之前的兴趣重复<br>｛$addToSet:{hobby:{$each:[‘running’,’sing’]}}｝</li>
</ol>
<hr>
<ol start="5">
<li>该班所有同学年龄加1<br>update({},{$inc:{age:1}},false,ture)</li>
</ol>
<hr>
<ol start="6">
<li>删除小明的sex属性<br>{$unset:{sex:0}}</li>
</ol>
<hr>
<ol start="7">
<li>删除小李的兴趣中的第一项<br>{$pop:{hobby:-1}}</li>
</ol>
<hr>
<ol start="8">
<li>删除小红兴趣中画画和唱歌<br>{$pullAll:{hobby:[‘draw’,’sing’]}}</li>
</ol>
<hr>
<h2 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h2><p><strong>指建立指定键值及所在文档中存储位置的对照清单。使用索引可以方便我们进行快速查找，减少遍历次数，提高查找效率</strong></p>
<h3 id="mongo如何创建索引"><a href="#mongo如何创建索引" class="headerlink" title="mongo如何创建索引"></a>mongo如何创建索引</h3><p>ensureIndex()<br>功能： 创建索引<br>参数： 索引域，索引类别，索引选项<br>e.g.  根据name域创建索引<br><code>db.class1.ensureIndex({&#39;name&#39;:1})</code></p>
<ul>
<li>1表示正向索引，-1表示逆向索引</li>
</ul>
<hr>
<h3 id="查看集合索引"><a href="#查看集合索引" class="headerlink" title="查看集合索引"></a>查看集合索引</h3><p>db.class1.getIndexes()</p>
<ul>
<li>_id域是由系统自动为集合创建的索引<br>自定义索引名称<br>通过第二个参数中name选项<br><code>db.class1.ensureIndex({&#39;age&#39;:1},{name:&#39;myIndex&#39;})</code></li>
</ul>
<hr>
<h3 id="删除索引"><a href="#删除索引" class="headerlink" title="删除索引"></a>删除索引</h3><p>dropIndex（）<br>功能：删除索引<br>参数：要删除的索引，可以是索引名称或者索引键值对<br>e.g.   <code>db.class1.dropIndex({name:1})</code><br>e.g.   <code>db.class1.dropIndex(&#39;myIndex&#39;)</code><br>dropIndexes()<br>功能：删除所有索引<br>e.g.  删除所有索引但是不会删除_id索引<br><code>db.class1.dropIndexes()</code></p>
<hr>
<h3 id="复合索引"><a href="#复合索引" class="headerlink" title="复合索引"></a>复合索引</h3><p>根据多个域创建一个索引<br>e.g.   <code>db.class1.ensureIndex({name:1,age:-1})</code></p>
<hr>
<h3 id="数组和子文档索引"><a href="#数组和子文档索引" class="headerlink" title="数组和子文档索引"></a>数组和子文档索引</h3><p>如果对某个域的值为数组或者子文档的域创建索引，则通过数组或者子文档进行查找时也是索引查找<br>e.g. 如果对score创建了索引则该查找也为索引查找<br><code>db.class2.find({&#39;score.0&#39;:15},{_id:0})</code></p>
<hr>
<h3 id="唯一索引"><a href="#唯一索引" class="headerlink" title="唯一索引"></a>唯一索引</h3><p>创建索引时希望集合中创建索引的域的值均不重复<br>e.g.<code>db.class1.ensureIndex({name:1},{unique:true})</code><br>当对某个域创建了唯一索引则无法插入重复值</p>
<hr>
<h3 id="稀疏索引"><a href="#稀疏索引" class="headerlink" title="稀疏索引"></a>稀疏索引</h3><p>只针对有指定域的文档创建索引表，如果某个文档没有该域则不会在索引表中插入内容<br>e.g.  对没有gender域的文档不做索引处理<br><code>db.class1.ensureIndex({gender:1},{sparse:true})</code></p>
<hr>
<h3 id="索引约束"><a href="#索引约束" class="headerlink" title="索引约束"></a>索引约束</h3><ol>
<li>当数据发生更新索引表也要随之更新,影响插入,删除,修改操作效率</li>
<li>索引表也需要占有一定的磁盘空间</li>
</ol>
<hr>
<p><strong>综上：<br>1.当对数据库进行大量的查找操作，而不是修改操作<br>2.集合中文档的数量较大的时候<br>比较适合创建索引</strong></p>
<hr>
<h1 id="第四部分"><a href="#第四部分" class="headerlink" title="第四部分"></a>第四部分</h1><h2 id="聚合操作"><a href="#聚合操作" class="headerlink" title="聚合操作"></a>聚合操作</h2><p>对文档的筛选结果进行整理统计(更高级的查找)<br>db.collection.aggregate()<br>功能： 聚合函数 ，完成聚合操作<br>参数： 聚合条件  —&gt; 聚合操作符</p>
<h2 id="聚合操作符"><a href="#聚合操作符" class="headerlink" title="聚合操作符"></a>聚合操作符</h2><table>
<thead>
<tr>
<th>操作符</th>
<th>说明</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr>
<td>$group</td>
<td>分组聚合,需要配合具体的分组操作符使用</td>
<td>db.class1.aggregate({$group:{_id:’$age’,num:{$sum:1}}})    </td>
</tr>
<tr>
<td>$sum</td>
<td>求和</td>
<td>db.class1.aggregate({$group:{_id:’$gender’,num:{$sum:’$age’}}})</td>
</tr>
<tr>
<td>$avg</td>
<td>求平均数</td>
<td>db.class1.aggregate({$group:{_id:’$gender’,avg_age:{$avg:’$age’}}})</td>
</tr>
<tr>
<td>$max</td>
<td>求最大值</td>
<td>db.class1.aggregate({$group:{_id:’$gender’,max:{$max:’$age’}}})</td>
</tr>
<tr>
<td>$min</td>
<td>求最小值</td>
<td>db.class1.aggregate({$group:{_id:’$gender’,min:{$min:’$age’}}})</td>
</tr>
<tr>
<td>$project</td>
<td>用于修改文档的显示效果</td>
<td>db.class1.aggregate({$project:{_id:0,name:1,age:1}})</td>
</tr>
<tr>
<td>$match</td>
<td>过滤数据</td>
<td>db.class1.aggregate({$match:{age:{$gt:18}}})</td>
</tr>
<tr>
<td>$limit</td>
<td>显示前几条文档</td>
<td>db.class1.aggregate({$limit:3})</td>
</tr>
<tr>
<td>$skip</td>
<td>跳过几条文档</td>
<td>db.class1.aggregate({$skip:2})</td>
</tr>
<tr>
<td>$sort</td>
<td>排序</td>
<td>db.class1.aggregate({$sort:{age:-1}})</td>
</tr>
</tbody>
</table>
<h2 id="聚合管道-：将前一个聚合操作得到的结果，给后一个聚合操作继续使用"><a href="#聚合管道-：将前一个聚合操作得到的结果，给后一个聚合操作继续使用" class="headerlink" title="聚合管道 ：将前一个聚合操作得到的结果，给后一个聚合操作继续使用"></a>聚合管道 ：将前一个聚合操作得到的结果，给后一个聚合操作继续使用</h2><p>db.collection.aggregate([聚合1，聚合2…])<br>e.g.  match —&gt; project —&gt; sort<br><code>db.class1.aggregate([{$match:{gender:&#39;m&#39;}},{$project:{_id:0}},{$sort:{age:-1}}])</code><br>e.g.  group —&gt; match<br><code>db.class1.aggregate([{$group:{_id:&#39;$name&#39;,num:{$sum:1}}},{$match:{num:{$gt:1}}}])</code></p>
<hr>
<h2 id="固定集合"><a href="#固定集合" class="headerlink" title="固定集合"></a>固定集合</h2><p>mongodb中可以创建大小固定的集合，称之为固定集合。<br><strong> 特点 ：</strong> </p>
<ul>
<li>插入速度快，顺序查找速度快</li>
<li>能够淘汰早期的数据</li>
<li>可以控制集合的空间大小</li>
</ul>
<p><strong>使用 ：</strong><br>临时缓存<br>日志处理</p>
<p><strong>创建：</strong><br>db.createCollection(collection,{capped:true,size:10000,max:10000})<br>capped:true    表示创建的集合是固定集合<br>size：表示集合的大小 单位 kb<br>max: 表示最多存放的文档个数<br>e.g. <code>db.createCollection(&#39;log&#39;,{capped:true,size:10,max:3})</code></p>
<hr>
<h2 id="文件存储"><a href="#文件存储" class="headerlink" title="文件存储"></a>文件存储</h2><h3 id="文件存储数据库的方式"><a href="#文件存储数据库的方式" class="headerlink" title="文件存储数据库的方式"></a>文件存储数据库的方式</h3><ol>
<li>存储路径<br>将文件在本地的路径以字符串形式存储到数据库<br>优点：节省数据库空间<br>缺点：当数据库或者文件位置发生变化时需要修改数据库内容 </li>
<li>存储文件本身<br>将文件以二进制（数据库指定编码）的形式存入到数据库中<br>优点 ： 数据库在，文件就在，不会丢失<br>缺点 ： 占用数据库的空间大。特别是文件较大的时候，由于数据库都是结构化的存储数据，所以对大文件处理效率较低</li>
</ol>
<h3 id="mongo存储大文件方案-：-GridFS-存储大文件"><a href="#mongo存储大文件方案-：-GridFS-存储大文件" class="headerlink" title="mongo存储大文件方案 ： GridFS 存储大文件"></a>mongo存储大文件方案 ： GridFS 存储大文件</h3><p>超过16M的文件为大文件</p>
<h4 id="GridFS方案解释"><a href="#GridFS方案解释" class="headerlink" title="GridFS方案解释"></a>GridFS方案解释</h4><p>  在mongodb一个数据库中创建两个集合共同完成文件的存储<br>  fs.files ： 存储文件的相关信息（文件名，文件类型）<br>  fs.chunks: 分块存储文件的实际内容</p>
<h3 id="如何存储"><a href="#如何存储" class="headerlink" title="如何存储"></a>如何存储</h3><p> <code>mongofiles  -d  dbname  put  file</code></p>
<p>数据库不存在则自动创建</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fs.files</span><br><span class="line">&#123; &quot;_id&quot; : ObjectId(&quot;5b2dc13269d72e13a6a28eaa&quot;), &quot;chunkSize&quot; : 261120, &quot;uploadDate&quot; : ISODate(&quot;2018-06-23T03:40:34.827Z&quot;), &quot;length&quot; : 119862, &quot;md5&quot; : &quot;ab01c0bfa9d2751b2ae33aea70e8f879&quot;, &quot;filename&quot; : &quot;file.jpg&quot; &#125;</span><br><span class="line"></span><br><span class="line">fs.chunks </span><br><span class="line"></span><br><span class="line">&#123; &quot;_id&quot; : ObjectId(&quot;5b2dc13269d72e13a6a28eab&quot;), &quot;files_id&quot; : ObjectId(&quot;5b2dc13269d72e13a6a28eaa&quot;), &quot;n&quot; : 0, &quot;data&quot; : BinData(0,&quot;/9j/4AAQSkZJRgAB...)&#125;</span><br></pre></td></tr></table></figure>
<p>对于同一个文件 fs.files 的_id值 等于 fs.chunks 中files_id域的值</p>
<h3 id="提取文件"><a href="#提取文件" class="headerlink" title="提取文件"></a>提取文件</h3><p><code>mongofiles -d  dbname  get  file</code> </p>
<h3 id="Grid的优缺点"><a href="#Grid的优缺点" class="headerlink" title="Grid的优缺点"></a>Grid的优缺点</h3><p>优点 ： 存储方便，提供较好的存命令，方便移植<br>缺点 ： 读写效率低</p>
<hr>
<h2 id="游标"><a href="#游标" class="headerlink" title="游标"></a>游标</h2><p>通过获取操作数据库的返回结果，得到返回结果的对象。通过该游标对象可以进一步得到数据库内容。<br>var cursor = db.class1.find()<br>cursor.next()<br>cursor.hasNext()</p>
<h2 id="通过python-操作MongoDB"><a href="#通过python-操作MongoDB" class="headerlink" title="通过python 操作MongoDB"></a>通过python 操作MongoDB</h2><p>pymongo 模块   第三方模块</p>
<p>安装<br>    <code>sudo pip3 install pymongo</code></p>
<h3 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h3><ol>
<li><p>创建mongodb数据库连接对象<br> conn = pymongo.MongoClient(‘localhost’,27017)</p>
</li>
<li><p>生成要操作的数据库对象 (<strong>getitem</strong>)<br><code>db = conn.stu
db = conn[&#39;stu&#39;]</code></p>
</li>
<li><p>获取集合对象<br><code>myset = db.class0
myset = db[&#39;class0&#39;]</code></p>
</li>
<li><p>通过集合对象操作mongodb数据库</p>
<p>  增删改查索引聚合文件操作</p>
</li>
<li><p>关闭数据库连接<br><code>conn.close()</code></p>
</li>
</ol>
<h4 id="插入数据"><a href="#插入数据" class="headerlink" title="插入数据"></a>插入数据</h4><p>insert()   参数用法同mongoshell中insert<br>insert_many()  or  insert_one()<br>save()</p>
<h4 id="查找操作-1"><a href="#查找操作-1" class="headerlink" title="查找操作"></a>查找操作</h4><p>find()<br>功能 ： 查找数据库内容<br>参数 ： 同mongo shell find（）<br>返回值 ： 返回一个结果游标cursor</p>
<p>在pymongo中使用操作符的方法和在mongoshell中一样，只需要加引号以字符串的方式给出</p>
<p>cursor属性函数</p>
<p>next()<br>limit()<br>skip()<br>count()<br>sort()<br>pymongo  ：sort([(‘age’,-1),(‘name’,1)])<br>mongo shell ： sort({age:-1,name:1})</p>
<p>当游标使用了next或for取值后就不能再进行limit skip或者sort操作了</p>
<p>find_one() 返回一个字典</p>
<h4 id="修改操作"><a href="#修改操作" class="headerlink" title="修改操作"></a>修改操作</h4><p><code>update（query,update,upsert=False,multi=False）
update_many（）
update_one()</code></p>
<h4 id="删除操作"><a href="#删除操作" class="headerlink" title="删除操作"></a>删除操作</h4><pre><code>remove(query,multi = True)
</code></pre><p>multi默认为True表示删除所有符合条件的数据<br>设置为False表示只删除一条</p>
<h4 id="索引-1"><a href="#索引-1" class="headerlink" title="索引"></a>索引</h4><p>ensure_index()<br>list_indexes()<br>drop_index()<br>drop_indexes()</p>
<h4 id="聚合"><a href="#聚合" class="headerlink" title="聚合"></a>聚合</h4><p>aggregate([])<br>参数： 和mongoshell中写法一致<br>返回值 ： 返回一个迭代器同find </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/07/python3环境搭建/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Godshion">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="响神的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/07/python3环境搭建/" itemprop="url">python3环境搭建</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-07T09:59:03+08:00">
                2018-08-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  361 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Python-3-教程"><a href="#Python-3-教程" class="headerlink" title="Python 3 教程"></a>Python 3 教程</h1><p>python3<br>Python的3.0版本，常被称为Python 3000，或简称Py3k。相对于Python的早期版本，这是一个较大的升级。为了不带入过多的累赘，Python 3.0在设计的时候没有考虑向下兼容。</p>
<p>Python 介绍及安装教程我们在Python 2.X版本的教程中已有介绍，这里就不再赘述。</p>
<p>你也可以点击 Python2.x与3​​.x版本区别 来查看两者的不同。</p>
<p>本教程主要针对Python 3.x版本的学习，如果你使用的是Python 2.x版本请移步至Python 2.X版本的教程。</p>
<h2 id="查看python版本"><a href="#查看python版本" class="headerlink" title="查看python版本"></a>查看python版本</h2><p>我们可以在命令窗口(Windows 使用 win+R 调出 cmd 运行框)使用以下命令查看我们使用的Python版本：</p>
<p>python -V<br>以上命令执行结果如下：</p>
<p>Python 3.3.2<br>你也可以进入Python的交互式编程模式，查看版本：</p>
<p>Python 3.3.2 (v3.3.2:d047928ae3f6, May 16 2013, 00:03:43) [MSC v.1600 32 bit (Intel)] on win32<br>Type “copyright”, “credits” or “license()” for more information.</p>
<h3 id="第一个Python3-x程序"><a href="#第一个Python3-x程序" class="headerlink" title="第一个Python3.x程序"></a>第一个Python3.x程序</h3><p>对于大多数程序语言，第一个入门编程代码便是”Hello World！”，以下代码为使用Python输出”Hello World！”：</p>
<p>实例(Python 3.0+)</p>
<p>#!/usr/bin/python3</p>
<p>print(“Hello, World!”)</p>
<p>运行实例 »<br>你可以将以上代码保存在 hello.py 文件中并使用 python 命令执行该脚本文件。</p>
<p>$ python3 hello.py<br>以上命令输出结果为：</p>
<p>Hello, World!</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/06/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Godshion">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="响神的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/06/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-08-06T21:31:59+08:00">
                2018-08-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  78 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  1 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          
      <div id="lv-container" data-id="city" data-uid="MTAyMC8zODczMi8xNTI2MA=="></div>





        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Godshion</p>
              <p class="site-description motion-element" itemprop="description">本站主要提供python教学的系列知识汇总</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                主页
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.baidu.com" title="test" target="_blank">test</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Godshion</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
